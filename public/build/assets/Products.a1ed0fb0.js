import{A as y,I as w,b as R,C as J,o as r,a as l,f as e,d,e as v,F as j,J as V,K as N,u as t,t as f,j as F,h as C,k,w as ie,g as ae,i as oe,B as re,l as ne,q as Q,H as le,n as de,S as O,U as ce,N as ue}from"./app.f08a2ea2.js";import{E as pe}from"./EyeOutline.bd2a9756.js";import{I as W,D as me,_ as H}from"./AuthenticatedLayout.215b11db.js";import{S as _e,R as fe,L as ge}from"./Magnify.4cef33a9.js";import{C as ve}from"./Check.ad4c96e8.js";import{E as he}from"./Pencil.bb34bd8c.js";import{R as xe,L as be,S as ye,N as we,P as ke,a as Pe,A as De,b as $e}from"./pagination.min.d836d6c2.js";import{_ as K}from"./InputNumber.2a17f8d2.js";import{_ as Ie}from"./InputError.e1fae99c.js";import{o as U,f as X}from"./transition.925d3c1e.js";import{_ as Y,U as Z,N as ee}from"./dialog.d8249ce7.js";import{_ as Be}from"./ListClients.e14cd319.js";import{r as Ee}from"./BackspaceIcon.612d5f16.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./micro-task.fe338338.js";import"./description.0cf68448.js";import"./XMarkIcon.c823fbe5.js";import"./combobox.f76378bc.js";import"./use-controllable.805e51b3.js";const Se={class:"bg-gray-100 shadow-lg"},Ce={class:"grid grid-cols-12 !z-30 lg:!px-2 !px-0 lg:!py-6 lg:!pt-4 !py-2 !relative"},je={class:"xl:col-span-3 col-span-12 flex items-stretch justify-center w-full"},qe={class:"swiper-button-prev-custom absolute top-1/2 right-0 z-40 cursor-pointer lg:block hidden"},Ae={class:"swiper-button-next-custom absolute top-1/2 left-0 z-40 cursor-pointer lg:block hidden"},Te=e("div",{class:"swiper-pagination-custom flex items-center justify-center !z-40 relative py-2"},null,-1),Le={key:0,class:"h-full w-full"},ze=["src","alt"],Re={key:1,class:"text-3xl h-full w-full flex items-stretch justify-center bg-gray-300"},Ve={class:"xl:col-span-9 col-span-12 grid grid-cols-12"},Ne={class:"bg-gray-200 px-4 py-4 w-full h-full"},Ue={class:"grid grid-cols-1"},Fe={class:"sm:text-sm text-[0.700rem] font-bold"},Oe={class:"sm:text-sm text-[0.700rem] font-bold"},Me={class:"sm:text-sm text-[0.700rem] font-bold"},Ge={class:"sm:text-sm text-[0.700rem] font-bold"},He={class:"grid grid-cols-12"},Ke={class:"2xl:pr-1 col-span-1"},Je={key:0},Qe=e("span",{class:"bg-green-700 w-[20px] h-[20px] block rounded-full"},null,-1),We=[Qe],Xe={key:1},Ye=e("span",{class:"bg-orange-400 w-[20px] h-[20px] block rounded-full"},null,-1),Ze=[Ye],et={key:2},tt=e("span",{class:"bg-red-700 w-[20px] h-[20px] block rounded-full"},null,-1),st=[tt],it={class:"2xl:pr-1col-span-11 2xl:pl-0 pl-1"},at={key:0},ot=e("span",{class:"sm:text-sm text-[0.700rem] font-bold"},"En stock",-1),rt=[ot],nt={key:1},lt=e("span",{class:"sm:text-sm text-[0.700rem] font-bold"},"Stock Faible",-1),dt=[lt],ct={key:2},ut=e("span",{class:"sm:text-sm text-[0.700rem] font-bold"},"Rupture de stock",-1),pt=[ut],mt={key:0,class:"mt-2"},_t=["onSubmit"],ft=["value"],gt=["value"],vt=["value"],ht=["value"],xt={class:"xsm:col-span-3 col-span-8 xsm:mr-2"},bt={class:"xsm:col-span-5 col-span-8 xsm:mt-0 mt-2"},yt={class:"h-10 flex items-start"},wt={type:"submit",class:"2xl:text-sm xl:text-[0.700rem] lg:text-sm text-[0.700rem] font-bold sm:h-full h-3/4 w-full sm:px-3 px-2 bg-primary-50 rounded hover:bg-primary-100 transition duration-300"},kt={key:1,class:"col-span-2 grid grid-cols-2"},Pt={class:"col-span-2"},Dt={class:"whitespace-pre-line"},$t={class:"grid grid-cols-8 col-span-2"},It={class:"xl:col-span-5 sm:col-span-4 col-span-8 w-full h-8 bg-gray-300 flex items-center justify-center rounded"},Bt={class:""},Et={class:"xl:col-span-3 sm:col-span-4 col-span-8 sm:mt-0 mt-1"},St=["onClick"],Ct=["onClick"],jt={key:1,class:"mt-2"},qt=["value"],At=["value"],Tt={class:"xsm:col-span-3 col-span-8 xsm:mr-2"},Lt=e("div",{class:"xsm:col-span-5 col-span-8 xsm:mt-0 mt-2"},[e("div",{class:"h-10 flex items-start"},[e("button",{type:"submit",class:"2xl:text-sm xl:text-[0.700rem] lg:text-sm text-[0.700rem] font-bold sm:h-full h-3/4 w-full sm:px-3 px-2 bg-primary-50 rounded hover:bg-primary-100 transition duration-300"},"Ajouter \xE0 la commande")])],-1),zt=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Rt={class:"fixed inset-0 overflow-y-auto"},Vt={class:"flex min-h-full items-center justify-center p-4 text-center"},Nt=e("input",{type:"hidden",name:"id_produit_modal",id:"id_produit_modal"},null,-1),Ut=e("input",{type:"hidden",name:"key_tab_modal",id:"key_tab_modal"},null,-1),Ft=e("input",{type:"hidden",name:"qte_modal",id:"qte_modal"},null,-1),Ot={class:"mt-2"},Mt={class:"text-sm text-gray-500"},Gt=e("label",{class:"lg:text-lg text-sm",for:"ref"}," R\xE9f\xE9rence : ",-1),Ht={class:"mt-4 flex flex-row-reverse"},Kt=e("button",{type:"submit",class:"mx-1 inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-green-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 transition duration-300"}," Valider ",-1),Jt={__name:"DetailsDesignAction",props:["designs","gamme"],setup(q){var c=y(q.designs),D=y(w().props.value.session.typeVente),x=y(!1),B=R({ref_externe:""}),T=(m,i)=>{x.value=i;var s=new FormData(m.target);document.getElementById("id_produit_modal").value=s.get("id_produit"),document.getElementById("qte_modal").value=s.get("qte"),document.getElementById("key_tab_modal").value=s.get("key_tab")};J(()=>{D.value=w().props.value.session.typeVente;var m=w().props.value.PanierDrop.panier.clients;if(m!=null&&m.length!=0)for(var i=0;i<c.value.length;i++){var s=!1;m.forEach(_=>{if(_.client.id_client_edi==w().props.value.PanierDrop.panier.clientActuel.id_client_edi){var u=_.produits;u.forEach(g=>{c.value[i].id_produit==g.id_produit&&(c.value[i].isInPanier=!0,c.value[i].panier.quantiter=g.quantiter,c.value[i].panier.id_panier_edi_list=g.id_panier_edi_list,s=!0)})}}),s||(c.value[i].isInPanier=!1,c.value[i].panier.quantiter=0,c.value[i].panier.id_panier_edi_list=0),w().props.value.PanierDrop.panier.clientActuel!=null&&(c.value[i].id_client_edi=w().props.value.PanierDrop.panier.clientActuel.id_client_edi)}});var h=(m,i)=>{m.preventDefault();var s=new FormData(m.target);R({idProduit:s.get("id_produit"),quantiter:s.get("qte"),id_panier_edi_list:s.get("id_panier_edi_list"),id_client_edi:s.get("id_client_edi")}).post("/dropshipping/panier/add",{preserveScroll:!0,preserveState:!0,onSuccess:u=>{u.props.session.status?(c.value[s.get("key_tab")].panier.id_panier_edi_list=u.props.session.id_panier_edi_list,c.value[s.get("key_tab")].isInPanier=!0,c.value[s.get("key_tab")].panier.quantiter=s.get("qte"),Toast.fire({icon:"success",title:i?"La quantiter pour ce produit \xE0 bien \xE9t\xE9 modifier":"Le produit \xE0 bien ajouter au panier"})):Toast.fire({icon:"error",title:u.props.session.message})}})},E=m=>{c.value[m].isInPanier=!1},A=(m,i)=>{Swal.fire({title:"Attention",text:"Etes-vous de supprimer cette article de la commande ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Non",confirmButtonText:"Oui"}).then(s=>{s.isConfirmed&&R({id_panier_edi_list:m}).post("/dropshipping/panier/delete",{preserveScroll:!0,onSuccess:u=>{u.props.session.status?(Toast.fire({icon:"success",title:"Le produit \xE0 bien \xE9t\xE9 supprimer de la commande"}),c.value[i].isInPanier=!1,c.value[i].panier.quantiter=0,c.value[i].panier.id_panier_edi_list=0):Toast.fire({icon:"error",title:u.props.session.message})}})})},L=m=>{var i=new FormData(m.target);B.post("/dropshipping/clients/add",{preserveScroll:!0,preserveState:!0,onSuccess:s=>{if(s.props.session.statut){var _=s.props.session.id_client_edi;R({idProduit:i.get("id_produit_modal"),quantiter:i.get("qte_modal"),id_panier_edi_list:0,id_client_edi:_}).post("/dropshipping/panier/add",{preserveScroll:!0,preserveState:!0,onSuccess:g=>{if(g.props.session.status){c.value[i.get("key_tab_modal")].panier.id_panier_edi_list=g.props.session.id_panier_edi_list,c.value[i.get("key_tab_modal")].isInPanier=!0,c.value[i.get("key_tab_modal")].panier.quantiter=i.get("qte_modal");for(var S=0;S<c.value.length;S++)c.value[S].id_client_edi=_;x.value=!1,Toast.fire({icon:"success",title:"Le produit \xE0 bien ajouter au panier"})}else Toast.fire({icon:"error",title:g.props.session.message})}})}else Toast.fire({icon:"error",title:s.props.session.msg})}})},z=m=>(Math.round(m*100)/100).toFixed(2);return(m,i)=>(r(),l(j,null,[e("div",Se,[e("div",Ce,[e("div",je,[d(t($e),{modules:[t(we),t(ke),t(Pe),t(De)],"slides-per-view":1,"space-between":40,pagination:{clickable:!0,el:".swiper-pagination-custom",bulletActiveClass:"opacity-full",bulletClass:"swiper-pagination-bullet mx-2 !bg-primary-300",type:"bullets"},scrollbar:{draggable:!0},navigation:{nextEl:".swiper-button-prev-custom",prevEl:".swiper-button-next-custom",disabledClass:"opacity-50"},class:"lg:!px-9 !px-0 lg:!py-2 lg:!pt-4 !py-2 !relative"},{default:v(()=>[e("div",qe,[d(xe,{class:"!h-6 !w-12 text-5xl flex items-center justify-center text-primary-100"})]),e("div",Ae,[d(be,{class:"!h-6 !w-12 text-5xl flex items-center justify-center text-primary-100"})]),Te,(r(!0),l(j,null,V(t(c),(s,_)=>(r(),N(t(ye),{class:"xl:!h-full !h-52 !flex items-center justify-center",key:_},{default:v(()=>[s.photo!=null?(r(),l("div",Le,[e("img",{src:"https://gestion.tapis-nazar.fr/img/produit/"+s.photo.img_produit,alt:s.code_sku,class:"w-full h-full object-contain"},null,8,ze)])):(r(),l("div",Re,[d(W)]))]),_:2},1024))),128))]),_:1},8,["modules","pagination","navigation"])]),e("div",Ve,[(r(!0),l(j,null,V(t(c),(s,_)=>(r(),l("div",{class:"lg:col-span-4 sm:col-span-6 col-span-12 p-2 flex items-center justify-center",key:_},[e("div",Ne,[e("div",Ue,[e("span",Fe,"SKU : "+f(s.code_sku),1),e("span",Oe,"Taille : "+f(s.dimension.largeur)+"x"+f(s.dimension.longueur)+"cm",1),e("span",Me,"EAN : "+f(s.gencode),1),e("span",Ge,"Prix : "+f(t(z)(s.prixProduit))+" \u20AC HT",1),e("div",He,[e("div",Ke,[s.stats_produit.stock_restant>10?(r(),l("div",Je,We)):s.stats_produit.stock_restant>0?(r(),l("div",Xe,Ze)):(r(),l("div",et,st))]),e("div",it,[s.stats_produit.stock_restant>10?(r(),l("div",at,rt)):s.stats_produit.stock_restant>0?(r(),l("div",nt,dt)):(r(),l("div",ct,pt))])]),t(D)==2&&s.id_client_edi!=""?(r(),l("div",mt,[s.stats_produit.stock_restant>0&&!s.isInPanier?(r(),l("form",{key:0,onSubmit:F(u=>t(h)(u,s.panier.quantiter>0),["prevent"]),class:"grid grid-cols-8"},[e("input",{type:"hidden",name:"id_produit",value:s.id_produit},null,8,ft),e("input",{type:"hidden",name:"id_client_edi",value:s.id_client_edi},null,8,gt),e("input",{type:"hidden",name:"id_panier_edi_list",value:s.panier.id_panier_edi_list!=null?s.panier.id_panier_edi_list:0},null,8,vt),e("input",{type:"hidden",name:"key_tab",value:_},null,8,ht),e("div",xt,[d(K,{class:"sm:h-10 h-8 sm:w-full w-full",name:"qte",max:s.stats_produit.stock_restant,value:s.panier.quantiter>0?s.panier.quantiter:1},null,8,["max","value"])]),e("div",bt,[e("div",yt,[e("button",wt,f(s.panier.quantiter>0?"Modifier":"Ajouter \xE0")+" la commande",1)])])],40,_t)):s.isInPanier?(r(),l("div",kt,[e("div",Pt,[e("span",Dt,[d(ve,{class:"text-green-500"}),C(" Ajouter \xE0 la commande du client. ")])]),e("div",$t,[e("div",It,[e("span",Bt,"Quantiter : "+f(s.panier.quantiter),1)]),e("div",Et,[e("button",{type:"button",onClick:u=>t(E)(_),class:"px-2 h-8 bg-primary-50 rounded hover:bg-primary-100 transition duration-300 sm:mx-1 mr-1 xl:mb-0 mb-2 sm:w-10 w-1/2"},[d(he,{class:"text-white"})],8,St),e("button",{type:"button",onClick:u=>t(A)(s.panier.id_panier_edi_list!=null?s.panier.id_panier_edi_list:0,_),class:"px-2 h-8 bg-red-500 text-white rounded hover:bg-red-300 transition duration-300 sm:w-10 w-1/2"},[d(me,{class:"text-white"})],8,Ct)])])])):k("",!0)])):t(D)==2?(r(),l("div",jt,[s.stats_produit.stock_restant>0&&!s.isInPanier?(r(),l("form",{key:0,onSubmit:i[0]||(i[0]=F(u=>t(T)(u,!0),["prevent"])),class:"grid grid-cols-8"},[e("input",{type:"hidden",name:"id_produit",value:s.id_produit},null,8,qt),e("input",{type:"hidden",name:"key_tab",value:_},null,8,At),e("div",Tt,[d(K,{class:"sm:h-10 h-8 sm:w-full w-full",name:"qte",max:s.stats_produit.stock_restant,value:s.panier.quantiter>0?s.panier.quantiter:1},null,8,["max","value"])]),Lt],32)):k("",!0)])):k("",!0)])])]))),128))])])]),t(D)==2&&t(c)[0].id_client_edi==""?(r(),N(t(X),{key:0,appear:"",show:t(x),as:"template",unmount:!1},{default:v(()=>[d(t(ee),{as:"div",class:"relative z-50"},{default:v(()=>[d(t(U),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0",unmount:!1},{default:v(()=>[zt]),_:1}),e("div",Rt,[e("div",Vt,[d(t(U),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95",unmount:!1},{default:v(()=>[d(t(Y),{class:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:v(()=>[d(t(Z),{as:"h3",class:"lg:text-lg text-sm font-medium leading-6 text-gray-900"},{default:v(()=>[C(" Pour continuer, veuillez saisir la r\xE9f\xE9rence de la commande client concern\xE9e. ")]),_:1}),e("form",{onSubmit:i[3]||(i[3]=F((...s)=>t(L)&&t(L)(...s),["prevent"]))},[Nt,Ut,Ft,e("div",Ot,[e("div",Mt,[Gt,ie(e("input",{"onUpdate:modelValue":i[1]||(i[1]=s=>t(B).ref_externe=s),class:"lg:text-lg text-sm transition duration-300 bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",id:"ref",type:"text",name:"ref_externe",placeholder:"Saisissez la r\xE9f\xE9rence de la commande"},null,512),[[ae,t(B).ref_externe]]),d(Ie,{class:"mt-2",message:t(B).errors.ref_externe},null,8,["message"])])]),e("div",Ht,[Kt,e("button",{onClick:i[2]||(i[2]=s=>{oe(x)?x.value=!1:x=!1}),type:"button",class:"mx-1 inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-red-900 hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition duration-300"}," Fermer ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])):k("",!0)],64))}},Qt={class:"absolute top-1 left-0 text-white p-5 py-2 rounded-r-lg bg-primary-50"},Wt=e("a",{class:"underline",href:"/"},"Accueil",-1),Xt=e("a",{class:"underline",href:"/dropshipping/gamme"},"Gamme",-1),Yt={class:"flex items-center h-full"},Zt={class:"text-white text-3xl font-bold px-5 py-2 rounded-r-lg bg-primary-50"},es=Q('<div class="absolute bottom-0 left-0 py-2"><div class="relative rounded bg-gradient-to-r from-blue-400 to-indigo-500"><a href="/dropshipping/gamme" class="group rounded bg-gradient-to-r from-blue-400 to-indigo-500"><div class="bg-gradient-to-r to-blue-400 from-indigo-500 text-white font-bold py-2 px-4 rounded shadow-md transition duration-500 ease-in-out opacity-0 group-hover:opacity-100"><span class="opacity-100 text-white font-bold">Retourner aux gammes</span></div><div class="absolute flex items-center justify-center w-full h-full top-0 left-0 opacity-100 group-hover:opacity-0 transition duration-500 ease-in-out"><span class="opacity-100 text-white font-bold">Retourner aux gammes</span></div></a></div></div>',1),ts={class:"container mx-auto mt-5"},ss=e("div",{class:"bg-primary-50 rounded mx-1 py-2"},[e("h2",{class:"text-center text-3xl text-gray-800"},"S\xE9lectionner les produits pour votre client.")],-1),is={key:0,class:"flex justify-between sm:flex-row flex-col"},as={key:0,class:"flex items-center px-2"},os={class:"text-lg text-gray-600"},rs={key:1,class:"mb-4 px-2"},ns={class:"mx-1 my-1 flex sm:flex-row flex-col w-auto sm:flex-grow order-1 sm:order-2 mb-2 sm:mb-0"},ls={class:"relative flex-grow"},ds={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},cs={class:"sm:w-auto w-full sm:pl-2 pl-0 sm:pt-0 pt-2"},us={class:"grid grid-flow-row-dense grid-cols-12",id:"TabProducts"},ps=["data-positiontab","id"],ms={class:"grid grid-cols-12 bg-primary-white border border-primary-200 rounded-lg sm:h-48 h-38 mx-6 my-4 p-4"},_s={class:"xl:col-span-5 sm:col-span-4 col-span-2 items-stretch justify-center flex sm:h-40 h-full"},fs={key:0,class:"cursor-pointer relative overflow-hidden bg-gray-200 w-full h-full"},gs={class:"absolute flex items-center justify-center w-full h-full"},vs=["onClick","src","alt"],hs={key:1,class:"text-3xl h-full w-full flex items-center justify-center bg-gray-300"},xs={class:"xl:col-span-7 sm:col-span-8 col-span-10 flex flex-col ml-3"},bs={class:"font-bold xl:text-xl sm:text-lg text-sm text-gray-600"},ys={class:"font-semibold 2xl:text-lg text-sm"},ws={class:"flex flex-start items-end h-full"},ks=["onClick"],Ps={class:"grid grid-cols-4 justify-center items-center bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 xl:px-6"},Ds={class:"lg:col-span-1 sm:col-span-2 col-span-4 sm:text-start text-center"},$s=Q('<option value="8">8 par page</option><option value="12">12 par page</option><option value="18">18 par page</option><option value="50">50 par page</option><option value="100">100 par page</option>',5),Is=[$s],Bs={class:"lg:col-span-2 sm:col-span-2 col-span-4 lg:text-center sm:text-end text-center sm:my-0 my-2"},Es={class:"flex lg:justify-end justify-center lg:col-span-1 col-span-4"},Ss={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Cs=["href"],js={key:0},qs=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),As={class:"fixed inset-0 overflow-y-auto"},Ts={class:"flex min-h-full items-center justify-center p-4 text-center"},Ls=e("span",{id:"nomVisuelImage"},null,-1),zs=e("div",{class:"mt-2 h-[40rem] w-full"},[e("img",{id:"visuelImage",class:"w-full h-full object-cover"})],-1),Rs={layout:(q,P)=>q(H,()=>child),layout:H},ai=Object.assign(Rs,{__name:"Products",props:["products","produitsAchat","gamme"],setup(q){const P=q;var c=y(w().props.value.dynamique_client),D=y(w().props.value.PanierDrop),x=y(D.value.panier.clientActuel),B=y(P.produitsAchat.panier),T=y(P.products.data),h=y(P.products),E=0;const A=y(!1);var L="background-image: url('https://gestion.tapis-nazar.fr/img/produit/gamme/"+P.gamme.img_gamme+"');";function z(){A.value=!1}function m(n,o,a,p){A.value=!0;var b=o+" "+a+" "+p;document.getElementById("visuelImage").setAttribute("src","https://gestion.tapis-nazar.fr/img/produit/"+n),document.getElementById("visuelImage").setAttribute("alt",b),document.getElementById("nomVisuelImage").textContent=b}const i=n=>{if(n!=""&&n!=null){var a=document.getElementById("tab_idDesign"+n),o=a.dataset.positiontab,a=a.nextSibling;a.id!="viewDetailsDesign"?O.post("/dropshipping/gamme/design",{id_design:n}).then(p=>{if(p.status==200){document.getElementById("viewDetailsDesign")!=null&&(document.getElementById("viewDetailsDesign").__vue_app__!=null&&document.getElementById("viewDetailsDesign").__vue_app__.unmount(),document.getElementById("viewDetailsDesign").remove());var b=ce(Jt,{designs:p.data,gamme:P.gamme.nom_gamme}),$=document.createElement("div");$.id="viewDetailsDesign",$.dataset.idDesign=n;var I=u.base1;o==2?I=u.base2:o==3?I=u.base3:o==4&&(I=u.base4),$.classList=u.default+" "+I,document.getElementById("tab_idDesign"+n).parentNode.insertBefore($,document.getElementById("tab_idDesign"+n).nextSibling),b.mount(document.getElementById("viewDetailsDesign"))}}):a.id=="viewDetailsDesign"&&(document.getElementById("viewDetailsDesign").__vue_app__!=null&&document.getElementById("viewDetailsDesign").__vue_app__.unmount(),document.getElementById("viewDetailsDesign").remove())}},s=()=>{if(document.getElementById("viewDetailsDesign")!=null){var n=document.getElementById("viewDetailsDesign").dataset.idDesign,o=document.getElementById("viewDetailsDesign").previousSibling;o.id!="tab_idDesign"+n&&(document.getElementById("viewDetailsDesign").__vue_app__!=null&&document.getElementById("viewDetailsDesign").__vue_app__.unmount(),document.getElementById("viewDetailsDesign").remove())}};var _=()=>{Swal.fire({title:"Attention",text:"\xCAtes-vous de vider votre panier ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Non",confirmButtonText:"Oui"}).then(n=>{n.isConfirmed&&ue.Inertia.post("/dropshipping/panier/empty",{},{preserveScroll:!0,onSuccess:o=>{console.log(o),o.props.session.status?Toast.fire({icon:"success",title:"Le panier a bien \xE9t\xE9 vider !"}):Toast.fire({icon:"error",title:"Une erreur est survenue, pour vider votre panier, vous pouvez aussi vous d\xE9connecter et vous reconnecter."})}})})};re(async()=>{var n=document.getElementById("TabProducts"),o={attributes:!0,childList:!0,subtree:!0},a=new MutationObserver(s);a.observe(n,o);var p=document.getElementById("per_page");p.value=te();const b=new URL(window.location.href);var $=document.getElementById("searchGamme");$.value=b.searchParams.get("filter[global]")}),J(()=>{c.value=w().props.value.dynamique_client,D.value=w().props.value.PanierDrop,x.value=D.value.panier.clientActuel,O.get("/dropshipping/panier/view").then(n=>{n.data.produitsAchat!=null&&(n.data.produitsAchat.panier!=null?B.value=n.data.produitsAchat.panier:B.value=[])})});var u={default:"col-span-12 mx-6 relative inline-block  text-sm text-gray-500 whitespace-nowrap mt-4 before:-mt-[1.8rem] before:border-r-solid before:content-[''] before:block before:absolute before:w-0 before:h-0 before:border-l-[30px] before:border-l-transparent before:border-l-solid before:border-r-[30px] before:border-r-transparent  before:border-b-[30px] before:border-b-gray-100",base1:"before:xl:right-[85%] before:lg:right-[80%] before:sm:right-[70%] before:right-[50%]",base2:"before:xl:right-[60%] before:lg:right-[45%] before:sm:right-[15%] before:right-[50%]",base3:"before:xl:right-[35%] before:lg:right-[10%] before:sm:right-[15%] before:right-[50%]",base4:"before:xl:right-[5%] before:lg:right-[45%] before:sm:right-[15%] before:right-[50%]"},g={previous:"text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium",previous_disabled:"cursor-not-allowed text-gray-400 relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium",next:"text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium",next_disabled:"cursor-not-allowed text-gray-400 relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium",number:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",number_active:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 bg-gray-100"},S=()=>{const n=new URL(window.location.href);var o=document.getElementById("per_page");n.searchParams.set("perPage",o.value),window.location.href=n.href},te=()=>{const n=new URL(window.location.href);return n.searchParams.get("perPage")!=null?n.searchParams.get("perPage"):12},M=n=>{const o=new URL(window.location.href);o.searchParams.delete("filter[global]");var a=o.searchParams.get("perPage");o.searchParams.delete("perPage");var p=o.searchParams.get("page");o.searchParams.delete("page");var b=o.href+"/search";o.href=b,o.searchParams.set("filter[global]",n.target.value),a!=""&&a!=null&&o.searchParams.set("perPage",a),p!=""&&p!=null&&o.searchParams.set("page",p);var $=o.href;O.post($).then(I=>{if(I.status==200){const G=new URL(window.location.href);G.searchParams.set("filter[global]",n.target.value),T.value=I.data.products.data,h.value=I.data.products,window.history.replaceState("","",G.href)}})};const se=()=>(E==4?E=1:E++,E);return(n,o)=>(r(),l(j,null,[d(t(le),{title:"Orders Products Clients"}),e("section",{style:ne(t(L)),class:"h-52 relative container mx-auto bg-cover bg-[center_bottom_-15rem]"},[e("div",Qt,[Wt,C(" / "),Xt,C(" / "+f(P.gamme.nom_gamme),1)]),e("div",Yt,[e("h1",Zt,f(P.gamme.nom_gamme),1)]),es],4),e("section",ts,[ss,t(x)!=null?(r(),l("div",is,[t(x).id_client_edi!=null?(r(),l("div",as,[e("h3",os,"Commande client N\xB0 : "+f(t(x).ref_externe),1)])):k("",!0),t(x).id_client_edi!=null?(r(),l("div",rs,[d(Be,{data:t(D).panier},null,8,["data"])])):k("",!0)])):k("",!0),e("div",ns,[e("div",ls,[e("input",{class:"block w-full pl-9 text-sm rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300",placeholder:"Recherche...",id:"searchGamme",type:"text",name:"global",onInput:o[0]||(o[0]=(...a)=>t(M)&&t(M)(...a))},null,32),e("div",ds,[d(_e,{class:"text-xl mb-1"})])]),e("div",cs,[e("button",{type:"button",onClick:o[1]||(o[1]=(...a)=>t(_)&&t(_)(...a)),class:"sm:w-auto w-full px-5 py-2 flex items-center justify-center rounded bg-red-600 text-red-200 hover:bg-red-500 hover:text-red-800 transition duration-300"},[d(t(Ee),{class:"w-5 h-5 mr-2"}),C("Vider mon panier")])])]),e("div",us,[(r(!0),l(j,null,V(t(T),(a,p)=>(r(),l("div",{class:"xl:col-span-3 lg:col-span-4 sm:col-span-6 col-span-12",key:p,"data-positiontab":se(),id:"tab_idDesign"+a.id_design},[e("div",ms,[e("div",_s,[a.img_produit!=null?(r(),l("div",fs,[e("div",gs,[d(pe,{class:"text-lg text-black"})]),e("img",{onClick:b=>m(a.img_produit,a.nom_gamme,a.nom_design,a.nom_couleur),src:"https://gestion.tapis-nazar.fr/img/produit/"+a.img_produit,alt:a.code_sku,class:"z-20 relative hover:opacity-50 transition duration-300 w-full h-full object-contain"},null,8,vs)])):(r(),l("div",hs,[d(W)]))]),e("div",xs,[e("span",bs,f(a.nom_design),1),e("span",ys,"Couleur : "+f(a.nom_couleur),1),e("div",ws,[e("button",{class:"py-2 px-3 h-10 rounded bg-primary-200 hover:bg-primary-50 2xl:text-lg text-sm text-white hover:text-primary-400 transition duration-300",type:"button",onClick:b=>i(a.id_design)},"Voir les produits",8,ks)])])])],8,ps))),128))]),e("div",Ps,[e("div",Ds,[e("select",{id:"per_page",name:"per_page",dusk:"per-page-full",onChange:o[2]||(o[2]=(...a)=>t(S)&&t(S)(...a)),class:"xl:mr-5 mr-2 focus:ring-indigo-500 focus:border-indigo-500 min-w-max shadow-sm text-sm border-gray-300 rounded-md"},Is,32),e("span",null,"Page "+f(t(h).current_page)+" sur "+f(t(h).last_page),1)]),e("span",Bs,f(t(h).total)+" R\xE9sultats",1),e("div",Es,[e("nav",Ss,[(r(!0),l(j,null,V(t(h).links,(a,p)=>(r(),l("a",{key:p,class:de(p!=0&&p+1!=t(h).links.length?a.active?t(g).number_active:t(g).number:p==0?t(h).current_page==1?t(g).previous_disabled:t(g).previous:t(h).current_page==t(h).last_page?t(g).next_disabled:t(g).next),href:a.url},[p!=0&&p+1!=t(h).links.length?(r(),l("span",js,f(a.label),1)):k("",!0),p+1==t(h).links.length?(r(),N(fe,{key:1})):k("",!0),p==0?(r(),N(ge,{key:2})):k("",!0)],10,Cs))),128))])])])]),d(t(X),{show:A.value,as:"template",unmount:!1},{default:v(()=>[d(t(ee),{as:"div",onClose:z,class:"relative z-30",unmount:!1},{default:v(()=>[d(t(U),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0",unmount:!1},{default:v(()=>[qs]),_:1}),e("div",As,[e("div",Ts,[d(t(U),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95",unmount:!1},{default:v(()=>[d(t(Y),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",unmount:!1},{default:v(()=>[d(t(Z),{unmount:!1,as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:v(()=>[C(" Visuel image "),Ls]),_:1}),zs,e("div",{class:"flex flex-row-reverse"},[e("button",{type:"button",class:"mt-4 inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-red-900 hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition duration-300",onClick:z},"Fermer")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}});export{ai as default};
