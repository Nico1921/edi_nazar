import{z as y,P as E,b as N,B as ae,o,a as r,f as e,d as a,e as p,F as z,K as U,Q as O,u as t,t as g,j as R,h as I,k as C,i as F,W,m as de,c as ce,I as ue,V as oe,n as Z,A as pe,H as me,O as _e,M as te,R as fe}from"./app.8c3dbf91.js";import{E as ge}from"./EyeOutline.25d597d7.js";import{R as ve,L as he,I as le}from"./MenuRight.c34b13e3.js";import{D as xe,_ as ne,R as be}from"./AuthenticatedLayout.34de6b41.js";import{S as ye,L as we}from"./Magnify.fd2e68dc.js";import{C as $e,_ as ke}from"./LangueChoice.afc02887.js";import{E as Ce}from"./Pencil.7cd63350.js";import{_ as re}from"./InputNumber.eb1d9b93.js";import{_ as Pe}from"./InputError.3758e5ea.js";import{S as De,N as Ie,P as Be,a as Se,A as je,b as Ae}from"./pagination.min.27b1306e.js";import{o as T,f as H}from"./transition.92f0e16d.js";import{_ as J,U as X,N as Y}from"./dialog.a6edb187.js";import{B as Ee,L as ze,j as Le,H as qe,A as Ve}from"./combobox.c416e67d.js";import"./micro-task.fe338338.js";import"./description.bdcf6d87.js";const Te={class:"bg-gray-100 shadow-lg"},Me={class:"grid grid-cols-12 !z-30 lg:!px-2 !px-0 lg:!py-6 lg:!pt-4 !py-2 !relative"},Ne={class:"xl:col-span-3 col-span-12 flex items-stretch justify-center w-full"},Re={class:"swiper-button-prev-custom absolute top-1/2 right-0 z-40 cursor-pointer lg:block hidden"},Ue={class:"swiper-button-next-custom absolute top-1/2 left-0 z-40 cursor-pointer lg:block hidden"},Oe=e("div",{class:"swiper-pagination-custom flex items-center justify-center !z-40 relative py-2"},null,-1),Fe={key:0,class:"h-full w-full"},He=["src","alt"],Ge={key:1,class:"text-3xl h-full w-full flex items-stretch justify-center bg-gray-300"},Qe={class:"xl:col-span-9 col-span-12 grid grid-cols-12"},Ke={class:"bg-gray-200 px-4 py-4 w-full h-full"},We={class:"grid grid-cols-1"},Ze={class:"sm:text-sm text-[0.700rem] font-bold"},Je={class:"sm:text-sm text-[0.700rem] font-bold"},Xe={class:"sm:text-sm text-[0.700rem] font-bold"},Ye={class:"sm:text-sm text-[0.700rem] font-bold"},et={class:"grid grid-cols-12"},tt={class:"2xl:pr-1 col-span-1"},st={key:0},it=e("span",{class:"bg-green-700 w-[20px] h-[20px] block rounded-full"},null,-1),at=[it],ot={key:1},nt=e("span",{class:"bg-orange-400 w-[20px] h-[20px] block rounded-full"},null,-1),rt=[nt],lt={key:2},dt=e("span",{class:"bg-red-700 w-[20px] h-[20px] block rounded-full"},null,-1),ct=[dt],ut={class:"2xl:pr-1col-span-11 2xl:pl-0 pl-1"},pt={key:0},mt=e("span",{class:"sm:text-sm text-[0.700rem] font-bold"},"En stock",-1),_t=[mt],ft={key:1},gt=e("span",{class:"sm:text-sm text-[0.700rem] font-bold"},"Stock Faible",-1),vt=[gt],ht={key:2},xt=e("span",{class:"sm:text-sm text-[0.700rem] font-bold"},"Rupture de stock",-1),bt=[xt],yt={key:0,class:"mt-2"},wt=["onSubmit"],$t=["value"],kt=["value"],Ct=["value"],Pt=["value"],Dt={class:"xsm:col-span-3 col-span-8 xsm:mr-2"},It={class:"xsm:col-span-5 col-span-8 xsm:mt-0 mt-2"},Bt={class:"h-10 flex items-start"},St={type:"submit",class:"2xl:text-sm xl:text-[0.700rem] lg:text-sm text-[0.700rem] font-bold sm:h-full h-3/4 w-full sm:px-3 px-2 bg-primary-50 rounded hover:bg-primary-100 transition duration-300"},jt={key:1,class:"col-span-2 grid grid-cols-2"},At={class:"col-span-2"},Et={class:"whitespace-pre-line"},zt={class:"grid grid-cols-8 col-span-2"},Lt={class:"xl:col-span-5 sm:col-span-4 col-span-8 w-full h-8 bg-gray-300 flex items-center justify-center rounded"},qt={class:""},Vt={class:"xl:col-span-3 sm:col-span-4 col-span-8 sm:mt-0 mt-1"},Tt=["onClick"],Mt=["onClick"],Nt={key:1,class:"mt-2"},Rt=["value"],Ut=["value"],Ot={class:"xsm:col-span-3 col-span-8 xsm:mr-2"},Ft=e("div",{class:"xsm:col-span-5 col-span-8 xsm:mt-0 mt-2"},[e("div",{class:"h-10 flex items-start"},[e("button",{type:"submit",class:"2xl:text-sm xl:text-[0.700rem] lg:text-sm text-[0.700rem] font-bold sm:h-full h-3/4 w-full sm:px-3 px-2 bg-primary-50 rounded hover:bg-primary-100 transition duration-300"},"Ajouter \xE0 la commande")])],-1),Ht=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Gt={class:"fixed inset-0 overflow-y-auto"},Qt={class:"flex min-h-full items-center justify-center p-4 text-center"},Kt=e("input",{type:"hidden",name:"id_produit_modal",id:"id_produit_modal"},null,-1),Wt=e("input",{type:"hidden",name:"key_tab_modal",id:"key_tab_modal"},null,-1),Zt=e("input",{type:"hidden",name:"qte_modal",id:"qte_modal"},null,-1),Jt={class:"mt-2"},Xt={class:"text-sm text-gray-500"},Yt=e("label",{class:"lg:text-lg text-sm",for:"ref"}," R\xE9f\xE9rence : ",-1),es=e("input",{class:"lg:text-lg text-sm transition duration-300 bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",id:"ref",type:"text",name:"ref_externe",placeholder:"Saisissez la r\xE9f\xE9rence de la commande"},null,-1),ts={class:"mt-4 flex flex-row-reverse"},ss=e("button",{type:"submit",class:"mx-1 inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-green-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 transition duration-300"}," Valider ",-1),is={__name:"DetailsDesignAction",props:["designs","gamme"],setup(w){var d=y(w.designs),B=y(E().props.value.session.typeVente),v=y(!1),P=N({ref_externe:""}),L=(h,c)=>{v.value=c;var s=new FormData(h.target);document.getElementById("id_produit_modal").value=s.get("id_produit"),document.getElementById("qte_modal").value=s.get("qte"),document.getElementById("key_tab_modal").value=s.get("key_tab")};ae(()=>{B.value=E().props.value.session.typeVente;var h=E().props.value.PanierDrop.panier.clients;if(h!=null&&h.length!=0)for(var c=0;c<d.value.length;c++){var s=!1;h.forEach(_=>{if(_.client.id_client_edi==E().props.value.PanierDrop.panier.clientActuel.id_client_edi){var b=_.produits;b.forEach(A=>{d.value[c].id_produit==A.id_produit&&(d.value[c].isInPanier=!0,d.value[c].panier.quantiter=A.quantiter,d.value[c].panier.id_panier_edi_list=A.id_panier_edi_list,s=!0)})}}),s||(d.value[c].isInPanier=!1,d.value[c].panier.quantiter=0,d.value[c].panier.id_panier_edi_list=0)}});var x=(h,c)=>{h.preventDefault();var s=new FormData(h.target);N({idProduit:s.get("id_produit"),quantiter:s.get("qte"),id_panier_edi_list:s.get("id_panier_edi_list"),id_client_edi:s.get("id_client_edi")}).post("/dropshipping/panier/add",{preserveScroll:!0,preserveState:!0,onSuccess:b=>{b.props.session.status?(d.value[s.get("key_tab")].panier.id_panier_edi_list=b.props.session.id_panier_edi_list,d.value[s.get("key_tab")].isInPanier=!0,d.value[s.get("key_tab")].panier.quantiter=s.get("qte"),Toast.fire({icon:"success",title:c?"La quantiter pour ce produit \xE0 bien \xE9t\xE9 modifier":"Le produit \xE0 bien ajouter au panier"})):Toast.fire({icon:"error",title:b.props.session.message})}})},S=h=>{d.value[h].isInPanier=!1},k=(h,c)=>{Swal.fire({title:"Attention",text:"Etes-vous de supprimer cette article de la commande ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Non",confirmButtonText:"Oui"}).then(s=>{s.isConfirmed&&N({id_panier_edi_list:h}).post("/dropshipping/panier/delete",{preserveScroll:!0,onSuccess:b=>{b.props.session.status?(Toast.fire({icon:"success",title:"Le produit \xE0 bien \xE9t\xE9 supprimer de la commande"}),d.value[c].isInPanier=!1,d.value[c].panier.quantiter=0,d.value[c].panier.id_panier_edi_list=0):Toast.fire({icon:"error",title:"Une erreur c'est produit lors de la supression du produit de la commande"})}})})},j=h=>{var c=new FormData(h.target);W.Inertia.post("/dropshipping/clients/add",{ref_externe:c.get("ref_externe")},{preserveScroll:!0,preserveState:!0,onSuccess:s=>{if(s.props.session.statut){var _=s.props.session.id_client_edi;N({idProduit:c.get("id_produit_modal"),quantiter:c.get("qte_modal"),id_panier_edi_list:0,id_client_edi:_}).post("/dropshipping/panier/add",{preserveScroll:!0,preserveState:!0,onSuccess:A=>{if(A.props.session.status){d.value[c.get("key_tab_modal")].panier.id_panier_edi_list=A.props.session.id_panier_edi_list,d.value[c.get("key_tab_modal")].isInPanier=!0,d.value[c.get("key_tab_modal")].panier.quantiter=c.get("qte_modal");for(var V=0;V<d.value.length;V++)d.value[V].id_client_edi=_;v.value=!1,Toast.fire({icon:"success",title:"Le produit \xE0 bien ajouter au panier"})}else Toast.fire({icon:"error",title:A.props.session.message})}})}else Toast.fire({icon:"error",title:s.props.session.msg})}})},q=h=>(Math.round(h*100)/100).toFixed(2);return(h,c)=>(o(),r(z,null,[e("div",Te,[e("div",Me,[e("div",Ne,[a(t(Ae),{modules:[t(Ie),t(Be),t(Se),t(je)],"slides-per-view":1,"space-between":40,pagination:{clickable:!0,el:".swiper-pagination-custom",bulletActiveClass:"opacity-full",bulletClass:"swiper-pagination-bullet mx-2 !bg-primary-300",type:"bullets"},scrollbar:{draggable:!0},navigation:{nextEl:".swiper-button-prev-custom",prevEl:".swiper-button-next-custom",disabledClass:"opacity-50"},class:"lg:!px-9 !px-0 lg:!py-2 lg:!pt-4 !py-2 !relative"},{default:p(()=>[e("div",Re,[a(ve,{class:"!h-6 !w-12 text-5xl flex items-center justify-center text-primary-100"})]),e("div",Ue,[a(he,{class:"!h-6 !w-12 text-5xl flex items-center justify-center text-primary-100"})]),Oe,(o(!0),r(z,null,U(t(d),(s,_)=>(o(),O(t(De),{class:"xl:!h-full !h-52 !flex items-center justify-center",key:_},{default:p(()=>[s.photo!=null?(o(),r("div",Fe,[e("img",{src:"https://gestion.tapis-nazar.fr/img/produit/"+s.photo.img_produit,alt:s.code_sku,class:"w-full h-full object-contain"},null,8,He)])):(o(),r("div",Ge,[a(le)]))]),_:2},1024))),128))]),_:1},8,["modules","pagination","navigation"])]),e("div",Qe,[(o(!0),r(z,null,U(t(d),(s,_)=>(o(),r("div",{class:"lg:col-span-4 sm:col-span-6 col-span-12 p-2 flex items-center justify-center",key:_},[e("div",Ke,[e("div",We,[e("span",Ze,"SKU : "+g(s.code_sku),1),e("span",Je,"Taille : "+g(s.dimension.largeur)+"x"+g(s.dimension.longueur)+"cm",1),e("span",Xe,"EAN : "+g(s.gencode),1),e("span",Ye,"Prix : "+g(t(q)(s.prixProduit))+" \u20AC HT",1),e("div",et,[e("div",tt,[s.stats_produit.stock_restant>10?(o(),r("div",st,at)):s.stats_produit.stock_restant>0?(o(),r("div",ot,rt)):(o(),r("div",lt,ct))]),e("div",ut,[s.stats_produit.stock_restant>10?(o(),r("div",pt,_t)):s.stats_produit.stock_restant>0?(o(),r("div",ft,vt)):(o(),r("div",ht,bt))])]),t(B)==2&&s.id_client_edi!=""?(o(),r("div",yt,[s.stats_produit.stock_restant>0&&!s.isInPanier?(o(),r("form",{key:0,onSubmit:R(b=>t(x)(b,s.panier.quantiter>0),["prevent"]),class:"grid grid-cols-8"},[e("input",{type:"hidden",name:"id_produit",value:s.id_produit},null,8,$t),e("input",{type:"hidden",name:"id_client_edi",value:s.id_client_edi},null,8,kt),e("input",{type:"hidden",name:"id_panier_edi_list",value:s.panier.id_panier_edi_list!=null?s.panier.id_panier_edi_list:0},null,8,Ct),e("input",{type:"hidden",name:"key_tab",value:_},null,8,Pt),e("div",Dt,[a(re,{class:"sm:h-10 h-8 sm:w-full w-full",name:"qte",max:s.stats_produit.stock_restant,value:s.panier.quantiter>0?s.panier.quantiter:1},null,8,["max","value"])]),e("div",It,[e("div",Bt,[e("button",St,g(s.panier.quantiter>0?"Modifier":"Ajouter \xE0")+" la commande",1)])])],40,wt)):s.isInPanier?(o(),r("div",jt,[e("div",At,[e("span",Et,[a($e,{class:"text-green-500"}),I(" Ajouter \xE0 la commande du client. ")])]),e("div",zt,[e("div",Lt,[e("span",qt,"Quantiter : "+g(s.panier.quantiter),1)]),e("div",Vt,[e("button",{type:"button",onClick:b=>t(S)(_),class:"px-2 h-8 bg-primary-50 rounded hover:bg-primary-100 transition duration-300 sm:mx-1 mr-1 xl:mb-0 mb-2 sm:w-10 w-1/2"},[a(Ce,{class:"text-white"})],8,Tt),e("button",{type:"button",onClick:b=>t(k)(s.panier.id_panier_edi_list!=null?s.panier.id_panier_edi_list:0,_),class:"px-2 h-8 bg-red-500 text-white rounded hover:bg-red-300 transition duration-300 sm:w-10 w-1/2"},[a(xe,{class:"text-white"})],8,Mt)])])])):C("",!0)])):t(B)==2?(o(),r("div",Nt,[s.stats_produit.stock_restant>0&&!s.isInPanier?(o(),r("form",{key:0,onSubmit:c[0]||(c[0]=R(b=>t(L)(b,!0),["prevent"])),class:"grid grid-cols-8"},[e("input",{type:"hidden",name:"id_produit",value:s.id_produit},null,8,Rt),e("input",{type:"hidden",name:"key_tab",value:_},null,8,Ut),e("div",Ot,[a(re,{class:"sm:h-10 h-8 sm:w-full w-full",name:"qte",max:s.stats_produit.stock_restant,value:s.panier.quantiter>0?s.panier.quantiter:1},null,8,["max","value"])]),Ft],32)):C("",!0)])):C("",!0)])])]))),128))])])]),t(B)==2&&t(d)[0].id_client_edi==""?(o(),O(t(H),{key:0,appear:"",show:t(v),as:"template",unmount:!1},{default:p(()=>[a(t(Y),{as:"div",class:"relative z-50"},{default:p(()=>[a(t(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0",unmount:!1},{default:p(()=>[Ht]),_:1}),e("div",Gt,[e("div",Qt,[a(t(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95",unmount:!1},{default:p(()=>[a(t(J),{class:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:p(()=>[a(t(X),{as:"h3",class:"lg:text-lg text-sm font-medium leading-6 text-gray-900"},{default:p(()=>[I(" Pour continuer, veuillez saisir la r\xE9f\xE9rence de la commande client concern\xE9e. ")]),_:1}),e("form",{onSubmit:c[2]||(c[2]=R((...s)=>t(j)&&t(j)(...s),["prevent"]))},[Kt,Wt,Zt,e("div",Jt,[e("div",Xt,[Yt,es,a(Pe,{class:"mt-2",message:t(P).errors.ref_externe},null,8,["message"])])]),e("div",ts,[ss,e("button",{onClick:c[1]||(c[1]=s=>{F(v)?v.value=!1:v=!1}),type:"button",class:"mx-1 inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-red-900 hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition duration-300"}," Fermer ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])):C("",!0)],64))}},as={name:"PackageIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},os=["aria-hidden","aria-label"],ns=["fill","width","height"],rs={d:"M5.12,5H18.87L17.93,4H5.93L5.12,5M20.54,5.23C20.83,5.57 21,6 21,6.5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V6.5C3,6 3.17,5.57 3.46,5.23L4.84,3.55C5.12,3.21 5.53,3 6,3H18C18.47,3 18.88,3.21 19.15,3.55L20.54,5.23M6,18H12V15H6V18Z"},ls={key:0};function ds(w,$,d,B,v,P){return o(),r("span",de(w.$attrs,{"aria-hidden":!d.title,"aria-label":d.title,class:"material-design-icon package-icon",role:"img",onClick:$[0]||($[0]=L=>w.$emit("click",L))}),[(o(),r("svg",{fill:d.fillColor,class:"material-design-icon__svg",width:d.size,height:d.size,viewBox:"0 0 24 24"},[e("path",rs,[d.title?(o(),r("title",ls,g(d.title),1)):C("",!0)])],8,ns))],16,os)}const cs=ke(as,[["render",ds]]);function us(w,$){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z","clip-rule":"evenodd"})])}function ps(w,$){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z","clip-rule":"evenodd"})])}function ms(w,$){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"}),e("path",{"fill-rule":"evenodd",d:"M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})])}function se(w,$){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})])}function ie(w,$){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z","clip-rule":"evenodd"})])}function _s(w,$){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})])}const fs={class:"relative mt-1"},gs={class:"relative w-full cursor-default overflow-hidden rounded-lg bg-white text-left shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm"},vs={class:"absolute inset-y-0 left-0 flex items-center pr-2 pb-1 pl-1"},hs={class:"absolute rounded-md bg-white pt-1 shadow-lg w-full mt-1"},xs={key:0,class:"relative cursor-default select-none py-2 px-4 text-gray-700"},bs=["onClick"],ys={class:"absolute inset-y-0 right-0 flex items-center pr-1"},ws=["onClick"],$s={class:"rounded-full bg-blue-200 hover:bg-blue-400 text-blue-500 hover:text-blue-700 transition duration-300 p-1 block"},ks=["onClick"],Cs={class:"rounded-full bg-red-200 hover:bg-red-400 text-red-500 hover:text-red-700 transition duration-300 p-1 block"},Ps={class:"text-center"},Ds={class:"w-full flex items-center justify-center"},Is={class:"w-full flex items-center justify-center"},Bs=e("div",{class:"fixed inset-0 bg-black bg-opacity-25 z-[50]"},null,-1),Ss={class:"fixed inset-0 overflow-y-auto z-[60]"},js={class:"flex min-h-full items-center justify-center p-4 text-center"},As={class:"absolute right-0 top-0"},Es={class:"mt-2 grid grid-cols-2"},zs=["onClick"],Ls={class:"col-span-1 flex items-center justify-center"},qs={key:0,class:"lg:w-[45px] lg:h-[75px] sm:w-[60px] sm:h-[90px] w-[70px] h-[100px]"},Vs=["src","alt"],Ts={key:1,class:"h-full w-full py-2 px-1"},Ms={class:"text-3xl h-full w-full flex items-center justify-center bg-gray-300"},Ns={class:"flex flex-col col-span-3"},Rs={class:"my-1 text-sm rounded-xl bg-gray-200"},Us=e("span",{class:"rounded-xl bg-indigo-200 text-indigo-500 px-2"},"Gamme",-1),Os={class:"my-1 text-sm rounded-xl bg-gray-200"},Fs=e("span",{class:"rounded-xl bg-indigo-200 text-indigo-500 px-2"},"Design",-1),Hs={class:"my-1 text-sm rounded-xl bg-gray-200"},Gs=e("span",{class:"rounded-xl bg-indigo-200 text-indigo-500 px-2"},"Couleur",-1),Qs={class:"my-1 text-sm rounded-xl bg-gray-200"},Ks=e("span",{class:"rounded-xl bg-indigo-200 text-indigo-500 px-2"},"Dimension",-1),Ws={class:"my-1 text-sm rounded-xl bg-gray-200"},Zs=e("span",{class:"rounded-xl bg-indigo-200 text-indigo-500 px-2"},"Quantiter",-1),Js={class:"my-1 text-sm rounded-xl bg-gray-200"},Xs=e("span",{class:"rounded-xl bg-indigo-200 text-indigo-500 px-2"},"Prix unitaire",-1),Ys={class:"mt-4"},ei=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ti={class:"fixed inset-0 overflow-y-auto"},si={class:"flex min-h-full items-center justify-center p-4 text-center"},ii=e("input",{type:"hidden",name:"id_produit_modal",id:"id_produit_modal"},null,-1),ai=e("input",{type:"hidden",name:"key_tab_modal",id:"key_tab_modal"},null,-1),oi=e("input",{type:"hidden",name:"qte_modal",id:"qte_modal"},null,-1),ni={class:"mt-2"},ri={class:"text-sm text-gray-500"},li=e("label",{class:"lg:text-lg text-sm",for:"ref"}," R\xE9f\xE9rence : ",-1),di=e("input",{class:"lg:text-lg text-sm transition duration-300 bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",id:"ref",type:"text",name:"ref_externe",placeholder:"Saisissez la r\xE9f\xE9rence de la commande"},null,-1),ci={class:"mt-4 flex flex-row-reverse"},ui=e("button",{type:"submit",class:"mx-1 inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-green-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 transition duration-300"}," Valider ",-1),pi={class:"fixed bottom-10 right-10 z-[50] overflow-hidden"},mi=e("span",{class:"translate-x-full group-hover:relative absolute group-hover:translate-x-0 transition-all ease-in-out duration-100"},"Ajouter commande client",-1),_i={__name:"ListClients",props:["data"],setup(w){var d=y(w.data),B=d.value.id_panier_edi,v=y(d.value.clients),P=y(),L=y(E().props.value.session.typeVente),x=v.value.findIndex(i=>i.client.id_client_edi==d.value.clientActuel.id_client_edi),S=y(v.value[x!=-1?x:0]);let k=y("");var j=y(!1),q=i=>{j.value=i},h=N({ref_externe:""});let c=ce(()=>k.value===""?v.value:v.value.filter(i=>i.client.ref_externe.toLowerCase().includes(k.value.toLowerCase())));const s=y(!1);function _(){s.value=!1}function b(i,n){i.preventDefault(),s.value=!0,P.value=n}var A=i=>{Swal.fire({title:"Attention",text:"Etes-vous de supprimer cette article de la commande ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Non",confirmButtonText:"Oui"}).then(n=>{n.isConfirmed&&N({id_panier_edi_list:i}).post("/dropshipping/panier/delete",{preserveScroll:!0,onSuccess:D=>{D.props.session.status?Toast.fire({icon:"success",title:"Le produit \xE0 bien \xE9t\xE9 supprimer de la commande"}):Toast.fire({icon:"error",title:"Une erreur c'est produit lors de la supression du produit de la commande"})}})})},V=(i,n,f)=>{i.preventDefault(),Swal.fire({title:"Attention",text:"Etes-vous sur de supprimer la commande client "+f+" ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Non",confirmButtonText:"Oui"}).then(D=>{D.isConfirmed&&W.Inertia.post("/dropshipping/clients/delete",{id_client_edi:n,id_panier_edi:B},{onSuccess:l=>{l.props.session.status==!0?Toast.fire({icon:"success",title:"La commande client "+f+" \xE0 bien \xE9t\xE9 suprimmer !"}):Toast.fire({icon:"error",title:"Une erreur s'est produite lors de la supression de la commande client"+f+", veuillez ressayer !"})}})})},ee=i=>(Math.round(i*100)/100).toFixed(2),m=i=>{var n=new FormData(i.target);W.Inertia.post("/dropshipping/clients/add",{ref_externe:n.get("ref_externe")},{preserveScroll:!0,preserveState:!0,onSuccess:f=>{f.props.session.statut?(q(!1),Toast.fire({icon:"success",title:"La commande a \xE9t\xE9 ajouter avec succ\xE8s"})):Toast.fire({icon:"error",title:f.props.session.msg})}})},u=(i,n=!1)=>{W.Inertia.post("/dropshipping/clients/edit",{id_client_edi:i},{preserveScroll:!0,preserveState:!0,onSuccess:f=>{f.props.session.status?(q(!1),n&&_(),Toast.fire({icon:"info",title:"La commande "+d.value.clientActuel.ref_externe+" a \xE9t\xE9 s\xE9lectionner !"})):Toast.fire({icon:"error",title:"Une erreur est survenue, essayer d'actualiser la page."})}})};return ue(d,()=>{x=v.value.findIndex(i=>i.client.id_client_edi==d.value.clientActuel.id_client_edi),S.value=v.value[x!=-1?x:0]}),ae(()=>{if(d.value=E().props.value.PanierDrop.panier,v.value=d.value.clients,P.value!=null){var i=E().props.value.PanierDrop.panier.clients,n=i.findIndex(f=>f.client.id_client_edi==P.value.client.id_client_edi);n!=-1&&(P.value=i[n])}}),(i,n)=>{const f=oe("ImageOff"),D=oe("InputError");return o(),r(z,null,[a(t(Ve),{modelValue:t(S),"onUpdate:modelValue":n[3]||(n[3]=l=>F(S)?S.value=l:S=l),class:"z-40"},{default:p(()=>[e("div",fs,[e("div",gs,[e("div",vs,[a(cs,{class:"text-lg text-gray-400","aria-hidden":"true"})]),a(t(Ee),{class:"w-full border-none py-2 pl-6 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",displayValue:l=>l.client.ref_externe,onChange:n[0]||(n[0]=l=>F(k)?k.value=l.target.value:k=l.target.value)},null,8,["displayValue"]),a(t(ze),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:p(()=>[a(t(ps),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),a(t(H),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:n[2]||(n[2]=l=>F(k)?k.value="":k="")},{default:p(()=>[e("div",hs,[a(t(Le),{class:"max-h-36 w-full overflow-auto text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:p(()=>[t(c).length===0&&t(k)!==""?(o(),r("div",xs," Aucun r\xE9sultat ")):C("",!0),(o(!0),r(z,null,U(t(c),(l,M)=>(o(),O(t(qe),{as:"template",key:M,value:l},{default:p(({selected:G,active:Q})=>[e("li",{onClick:K=>t(u)(l.client.id_client_edi),class:Z(["relative cursor-default select-none py-2 pl-10 pr-4",{"bg-emerald-500 text-white":Q,"text-primary-400":!Q}])},[G?(o(),r("span",{key:0,class:Z(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":Q,"text-teal-400":!Q}])},[a(t(us),{class:"h-5 w-5","aria-hidden":"true"})],2)):C("",!0),e("span",{class:Z(["block truncate pr-14",{"font-medium":G,"font-normal":!G}])},g(l.client.ref_externe),3),e("div",ys,[e("button",{onClick:R(K=>b(K,l),["stop"]),class:"w-full h-full px-2"},[e("span",$s,[a(t(ms),{class:"h-4 w-4"})])],8,ws),e("button",{onClick:R(K=>t(V)(K,l.client.id_client_edi,l.client.ref_externe),["stop"]),class:"w-full h-full px-2"},[e("span",Cs,[a(t(ie),{class:"h-4 w-4"})])],8,ks)])],10,bs)]),_:2},1032,["value"]))),128))]),_:1}),e("div",Ps,[e("button",{onClick:n[1]||(n[1]=l=>t(q)(!0)),class:"py-2 text-sm overflow-hidden hover:bg-green-200 hover:text-green-600 w-full rounded-md transition duration-300"},[e("span",Ds,[a(t(se),{class:"w-5 h-5","aria-hidden":"true"}),I("Ajouter commande clients")]),e("span",Is,g(t(c).length===0?t(k):""),1)])])])]),_:1})])]),_:1},8,["modelValue"]),a(t(H),{appear:"",show:s.value,as:"template"},{default:p(()=>[a(t(Y),{as:"div",onClose:_,class:"relative z-[60]"},{default:p(()=>[a(t(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>[Bs]),_:1}),e("div",Ss,[e("div",js,[a(t(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:p(()=>[a(t(J),{class:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:p(()=>[a(t(X),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900 relative"},{default:p(()=>[I(" Commande Client N\xB0 : "+g(t(P).client.ref_externe)+" ",1),e("div",As,[e("button",{onClick:_,class:"rounded-full p-1 hover:bg-red-200 hover:text-red-400 transition duration-300"},[a(t(_s),{class:"w-4 h-4"})])])]),_:1}),e("div",Es,[(o(!0),r(z,null,U(t(P).produits,(l,M)=>(o(),r("div",{key:M,class:"sm:col-span-1 col-span-2 grid grid-cols-4 bg-gray-100 p-1 m-2 relative rounded-xl"},[e("button",{onClick:G=>t(A)(l.panier.id_panier_edi_list),class:"absolute left-2 top-2 rounded-full bg-red-200 hover:bg-red-400 text-red-500 hover:text-red-700 p-1 transition duration-300",type:"button"},[a(t(ie),{class:"w-4 h-4"})],8,zs),e("div",Ls,[l.photo!=null&&l.photo.img_produit!=null?(o(),r("div",qs,[e("img",{src:"https://gestion.tapis-nazar.fr/img/produit/"+l.photo.img_produit,alt:l.code_sku,class:"w-full h-full object-cover"},null,8,Vs)])):(o(),r("div",Ts,[e("div",Ms,[a(f)])]))]),e("div",Ns,[e("span",Rs,[Us,I(" "+g(l.gamme.nom_gamme),1)]),e("span",Os,[Fs,I(" "+g(l.design.nom_design),1)]),e("span",Hs,[Gs,I(" "+g(l.couleur.nom_couleur),1)]),e("span",Qs,[Ks,I(" "+g(l.dimension.largeur+"x"+l.dimension.longueur)+"cm",1)]),e("span",Ws,[Zs,I(" "+g(l.panier.quantiter),1)]),e("span",Js,[Xs,I(" "+g(t(ee)(l.prixProduit))+" \u20AC",1)])])]))),128))]),e("div",Ys,[t(P).client.id_client_edi!=t(d).clientActuel.id_client_edi?(o(),r("button",{key:0,onClick:n[4]||(n[4]=l=>t(u)(t(P).client.id_client_edi,!0)),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-green-200 px-4 py-2 text-sm font-medium text-green-900 hover:bg-green-300 transition duration-300 mx-1 focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2"},[a(t(se),{class:"h-4 w-4 text-green-500 mt-0 mr-1"}),I(" Ajouter des produits ")])):C("",!0),e("button",{type:"button",onClick:_,class:"inline-flex justify-center rounded-md border border-transparent bg-red-200 px-4 py-2 text-sm font-medium text-red-900 hover:bg-red-300 transition duration-300 mx-1 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2"},[a(t(ie),{class:"h-4 w-4 text-red-500 mt-0 mr-1"}),I(" Supprimer la commande ")])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),t(L)==2?(o(),O(t(H),{key:0,appear:"",show:t(j),as:"template",unmount:!1},{default:p(()=>[a(t(Y),{as:"div",class:"relative z-50"},{default:p(()=>[a(t(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0",unmount:!1},{default:p(()=>[ei]),_:1}),e("div",ti,[e("div",si,[a(t(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95",unmount:!1},{default:p(()=>[a(t(J),{class:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:p(()=>[a(t(X),{as:"h3",class:"lg:text-lg text-sm font-medium leading-6 text-gray-900"},{default:p(()=>[I(" Saisissez la r\xE9f\xE9rence de la commande client. ")]),_:1}),e("form",{onSubmit:n[6]||(n[6]=R((...l)=>t(m)&&t(m)(...l),["prevent"]))},[ii,ai,oi,e("div",ni,[e("div",ri,[li,di,a(D,{class:"mt-2",message:t(h).errors.ref_externe},null,8,["message"])])]),e("div",ci,[ui,e("button",{onClick:n[5]||(n[5]=l=>{F(j)?j.value=!1:j=!1}),type:"button",class:"mx-1 inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-red-900 hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition duration-300"}," Fermer ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])):C("",!0),e("div",pi,[e("button",{onClick:n[7]||(n[7]=l=>t(q)(!0)),class:"group flex items-center justify-center text-white hover:px-4 w-10 hover:w-auto h-10 bg-green-600 rounded-full hover:bg-green-700 active:shadow-lg mouse shadow transition-all ease-in duration-300 focus:outline-none"},[a(t(se),{class:"w-5 h-5 group-hover:mr-1"}),mi])])],64)}}},fi={class:"container mx-auto mt-5"},gi=e("h1",{class:"text-center text-3xl text-gray-800"},"S\xE9lectionner les produits pour votre client.",-1),vi={key:0,class:"flex justify-between sm:flex-row flex-col"},hi={key:0,class:"flex items-center px-2"},xi={class:"text-lg text-gray-600"},bi={key:1,class:"mb-4 px-2"},yi={class:"mx-1 flex flex-row w-auto sm:flex-grow order-1 sm:order-2 mb-2 sm:mb-0"},wi={class:"relative flex-grow"},$i={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ki={class:"grid grid-flow-row-dense grid-cols-12",id:"TabProducts"},Ci=["data-positiontab","id"],Pi={class:"grid grid-cols-12 bg-primary-100 rounded-lg sm:h-48 h-38 mx-6 my-4 p-4"},Di={class:"xl:col-span-5 sm:col-span-4 col-span-2 items-stretch justify-center flex sm:h-40 h-full"},Ii={key:0,class:"cursor-pointer relative overflow-hidden bg-gray-200 w-full h-full"},Bi={class:"absolute flex items-center justify-center w-full h-full"},Si=["onClick","src","alt"],ji={key:1,class:"text-3xl h-full w-full flex items-center justify-center bg-gray-300"},Ai={class:"xl:col-span-7 sm:col-span-8 col-span-10 flex flex-col ml-3"},Ei={class:"font-bold xl:text-xl sm:text-lg text-sm text-gray-600"},zi={class:"font-semibold 2xl:text-lg text-sm"},Li={class:"flex flex-start items-end h-full"},qi=["onClick"],Vi={class:"grid grid-cols-4 justify-center items-center bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 xl:px-6"},Ti={class:"lg:col-span-1 sm:col-span-2 col-span-4 sm:text-start text-center"},Mi=_e('<option value="8">8 par page</option><option value="12">12 par page</option><option value="18">18 par page</option><option value="50">50 par page</option><option value="100">100 par page</option>',5),Ni=[Mi],Ri={class:"lg:col-span-2 sm:col-span-2 col-span-4 lg:text-center sm:text-end text-center sm:my-0 my-2"},Ui={class:"flex lg:justify-end justify-center lg:col-span-1 col-span-4"},Oi={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Fi=["href"],Hi={key:0},Gi=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Qi={class:"fixed inset-0 overflow-y-auto"},Ki={class:"flex min-h-full items-center justify-center p-4 text-center"},Wi=e("span",{id:"nomVisuelImage"},null,-1),Zi=e("div",{class:"mt-2 h-[40rem] w-full"},[e("img",{id:"visuelImage",class:"w-full h-full object-cover"})],-1),Ji={layout:(w,$)=>w(ne,()=>child),layout:ne},ma=Object.assign(Ji,{__name:"Products",props:["products","produitsAchat","gamme"],setup(w){const $=w;var d=y(E().props.value.dynamique_client),B=y(E().props.value.PanierDrop),v=y(B.value.panier.clientActuel),P=y($.produitsAchat.panier),L=y($.products.data),x=y($.products),S=0;const k=y(!1);function j(){k.value=!1}function q(m,u,i,n){k.value=!0;var f=u+" "+i+" "+n;document.getElementById("visuelImage").setAttribute("src","https://gestion.tapis-nazar.fr/img/produit/"+m),document.getElementById("visuelImage").setAttribute("alt",f),document.getElementById("nomVisuelImage").textContent=f}const h=m=>{if(m!=""&&m!=null){var i=document.getElementById("tab_idDesign"+m),u=i.dataset.positiontab,i=i.nextSibling;i.id!="viewDetailsDesign"?te.post("/dropshipping/gamme/design",{id_design:m}).then(n=>{if(n.status==200){document.getElementById("viewDetailsDesign")!=null&&(document.getElementById("viewDetailsDesign").__vue_app__!=null&&document.getElementById("viewDetailsDesign").__vue_app__.unmount(),document.getElementById("viewDetailsDesign").remove());var f=fe(is,{designs:n.data,gamme:$.gamme}),D=document.createElement("div");D.id="viewDetailsDesign",D.dataset.idDesign=m;var l=s.base1;u==2?l=s.base2:u==3?l=s.base3:u==4&&(l=s.base4),D.classList=s.default+" "+l,document.getElementById("tab_idDesign"+m).parentNode.insertBefore(D,document.getElementById("tab_idDesign"+m).nextSibling),f.mount(document.getElementById("viewDetailsDesign"))}}):i.id=="viewDetailsDesign"&&(document.getElementById("viewDetailsDesign").__vue_app__!=null&&document.getElementById("viewDetailsDesign").__vue_app__.unmount(),document.getElementById("viewDetailsDesign").remove())}},c=()=>{if(document.getElementById("viewDetailsDesign")!=null){var m=document.getElementById("viewDetailsDesign").dataset.idDesign,u=document.getElementById("viewDetailsDesign").previousSibling;u.id!="tab_idDesign"+m&&(document.getElementById("viewDetailsDesign").__vue_app__!=null&&document.getElementById("viewDetailsDesign").__vue_app__.unmount(),document.getElementById("viewDetailsDesign").remove())}};pe(async()=>{var m=document.getElementById("TabProducts"),u={attributes:!0,childList:!0,subtree:!0},i=new MutationObserver(c);i.observe(m,u);var n=document.getElementById("per_page");n.value=A();const f=new URL(window.location.href);var D=document.getElementById("searchGamme");D.value=f.searchParams.get("filter[global]")}),ae(()=>{d.value=E().props.value.dynamique_client,B.value=E().props.value.PanierDrop,v.value=B.value.panier.clientActuel,te.get("/dropshipping/panier/view").then(m=>{m.data.produitsAchat!=null&&(m.data.produitsAchat.panier!=null?P.value=m.data.produitsAchat.panier:P.value=[])})});var s={default:"col-span-12 mx-6 relative inline-block  text-sm text-gray-500 whitespace-nowrap mt-4 before:-mt-[1.8rem] before:border-r-solid before:content-[''] before:block before:absolute before:w-0 before:h-0 before:border-l-[30px] before:border-l-transparent before:border-l-solid before:border-r-[30px] before:border-r-transparent  before:border-b-[30px] before:border-b-gray-100",base1:"before:xl:right-[85%] before:lg:right-[80%] before:sm:right-[70%] before:right-[50%]",base2:"before:xl:right-[60%] before:lg:right-[45%] before:sm:right-[15%] before:right-[50%]",base3:"before:xl:right-[35%] before:lg:right-[10%] before:sm:right-[15%] before:right-[50%]",base4:"before:xl:right-[5%] before:lg:right-[45%] before:sm:right-[15%] before:right-[50%]"},_={previous:"text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium",previous_disabled:"cursor-not-allowed text-gray-400 relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium",next:"text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium",next_disabled:"cursor-not-allowed text-gray-400 relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium",number:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",number_active:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 bg-gray-100"},b=()=>{const m=new URL(window.location.href);var u=document.getElementById("per_page");m.searchParams.set("perPage",u.value),window.location.href=m.href},A=()=>{const m=new URL(window.location.href);return m.searchParams.get("perPage")!=null?m.searchParams.get("perPage"):12},V=m=>{const u=new URL(window.location.href);u.searchParams.delete("filter[global]");var i=u.searchParams.get("perPage");u.searchParams.delete("perPage");var n=u.searchParams.get("page");u.searchParams.delete("page");var f=u.href+"/search";u.href=f,u.searchParams.set("filter[global]",m.target.value),i!=""&&i!=null&&u.searchParams.set("perPage",i),n!=""&&n!=null&&u.searchParams.set("page",n);var D=u.href;te.post(D).then(l=>{if(l.status==200){const M=new URL(window.location.href);M.searchParams.set("filter[global]",m.target.value),L.value=l.data.products.data,x.value=l.data.products,window.history.replaceState("","",M.href)}})};const ee=()=>(S==4?S=1:S++,S);return(m,u)=>(o(),r(z,null,[a(t(me),{title:"Orders Products Clients"}),e("section",fi,[gi,t(v)!=null?(o(),r("div",vi,[t(v).id_client_edi!=null?(o(),r("div",hi,[e("h3",xi,"Commande client N\xB0 : "+g(t(v).ref_externe),1)])):C("",!0),t(v).id_client_edi!=null?(o(),r("div",bi,[a(_i,{data:t(B).panier},null,8,["data"])])):C("",!0)])):C("",!0),e("div",yi,[e("div",wi,[e("input",{class:"block w-full pl-9 text-sm rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300",placeholder:"Recherche...",id:"searchGamme",type:"text",name:"global",onInput:u[0]||(u[0]=(...i)=>t(V)&&t(V)(...i))},null,32),e("div",$i,[a(ye,{class:"text-xl mb-1"})])])]),e("div",ki,[(o(!0),r(z,null,U(t(L),(i,n)=>(o(),r("div",{class:"xl:col-span-3 lg:col-span-4 sm:col-span-6 col-span-12",key:n,"data-positiontab":ee(),id:"tab_idDesign"+i.id_design},[e("div",Pi,[e("div",Di,[i.img_produit!=null?(o(),r("div",Ii,[e("div",Bi,[a(ge,{class:"text-lg text-black"})]),e("img",{onClick:f=>q(i.img_produit,i.nom_gamme,i.nom_design,i.nom_couleur),src:"https://gestion.tapis-nazar.fr/img/produit/"+i.img_produit,alt:i.code_sku,class:"z-20 relative hover:opacity-50 transition duration-300 w-full h-full object-contain"},null,8,Si)])):(o(),r("div",ji,[a(le)]))]),e("div",Ai,[e("span",Ei,g(i.nom_design),1),e("span",zi,"Couleur : "+g(i.nom_couleur),1),e("div",Li,[e("button",{class:"py-2 px-3 h-10 rounded bg-primary-200 hover:bg-primary-50 2xl:text-lg text-sm text-white hover:text-primary-400 transition duration-300",type:"button",onClick:f=>h(i.id_design)},"Voir les produits",8,qi)])])])],8,Ci))),128))]),e("div",Vi,[e("div",Ti,[e("select",{id:"per_page",name:"per_page",dusk:"per-page-full",onChange:u[1]||(u[1]=(...i)=>t(b)&&t(b)(...i)),class:"xl:mr-5 mr-2 focus:ring-indigo-500 focus:border-indigo-500 min-w-max shadow-sm text-sm border-gray-300 rounded-md"},Ni,32),e("span",null,"Page "+g(t(x).current_page)+" sur "+g(t(x).last_page),1)]),e("span",Ri,g(t(x).total)+" R\xE9sultats",1),e("div",Ui,[e("nav",Oi,[(o(!0),r(z,null,U(t(x).links,(i,n)=>(o(),r("a",{key:n,class:Z(n!=0&&n+1!=t(x).links.length?i.active?t(_).number_active:t(_).number:n==0?t(x).current_page==1?t(_).previous_disabled:t(_).previous:t(x).current_page==t(x).last_page?t(_).next_disabled:t(_).next),href:i.url},[n!=0&&n+1!=t(x).links.length?(o(),r("span",Hi,g(i.label),1)):C("",!0),n+1==t(x).links.length?(o(),O(be,{key:1})):C("",!0),n==0?(o(),O(we,{key:2})):C("",!0)],10,Fi))),128))])])])]),a(t(H),{show:k.value,as:"template",unmount:!1},{default:p(()=>[a(t(Y),{as:"div",onClose:j,class:"relative z-30",unmount:!1},{default:p(()=>[a(t(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0",unmount:!1},{default:p(()=>[Gi]),_:1}),e("div",Qi,[e("div",Ki,[a(t(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95",unmount:!1},{default:p(()=>[a(t(J),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",unmount:!1},{default:p(()=>[a(t(X),{unmount:!1,as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:p(()=>[I(" Visuel image "),Wi]),_:1}),Zi,e("div",{class:"flex flex-row-reverse"},[e("button",{type:"button",class:"mt-4 inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-red-900 hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition duration-300",onClick:j},"Fermer")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}});export{ma as default};
