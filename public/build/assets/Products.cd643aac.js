import{z as y,P as w,b as U,B as Q,o,a as n,f as e,d as c,e as g,F as S,K as V,Q as T,u as s,t as f,j as O,h as q,k,w as te,g as se,i as ae,A as ie,l as oe,H as re,n as ne,O as le,M as F,W as de}from"./app.5dffe642.js";import{E as ce}from"./EyeOutline.e88ad416.js";import{I as W,D as ue,_ as H}from"./AuthenticatedLayout.a1f6ba0f.js";import{S as pe,R as me,L as _e}from"./Magnify.b1ff882b.js";import{C as fe}from"./LangueChoice.d0ee3957.js";import{E as ge}from"./Pencil.5e80f8ea.js";import{R as ve,L as he}from"./MenuRight.2fc6392a.js";import{_ as K}from"./InputNumber.e4798881.js";import{_ as xe}from"./InputError.7706a5ce.js";import{S as be,N as ye,P as we,a as ke,A as Pe,b as De}from"./pagination.min.435de46b.js";import{o as N,f as J}from"./transition.1b90aa2a.js";import{_ as X,U as Y,N as Z}from"./dialog.b65a3cdb.js";import{_ as $e}from"./ListClients.f70f802f.js";import"./micro-task.fe338338.js";import"./description.f5beb544.js";import"./XMarkIcon.6a335b70.js";import"./combobox.2f69816a.js";const Ie={class:"bg-gray-100 shadow-lg"},Be={class:"grid grid-cols-12 !z-30 lg:!px-2 !px-0 lg:!py-6 lg:!pt-4 !py-2 !relative"},Ee={class:"xl:col-span-3 col-span-12 flex items-stretch justify-center w-full"},Se={class:"swiper-button-prev-custom absolute top-1/2 right-0 z-40 cursor-pointer lg:block hidden"},Ce={class:"swiper-button-next-custom absolute top-1/2 left-0 z-40 cursor-pointer lg:block hidden"},je=e("div",{class:"swiper-pagination-custom flex items-center justify-center !z-40 relative py-2"},null,-1),Ae={key:0,class:"h-full w-full"},qe=["src","alt"],Le={key:1,class:"text-3xl h-full w-full flex items-stretch justify-center bg-gray-300"},ze={class:"xl:col-span-9 col-span-12 grid grid-cols-12"},Re={class:"bg-gray-200 px-4 py-4 w-full h-full"},Ue={class:"grid grid-cols-1"},Ve={class:"sm:text-sm text-[0.700rem] font-bold"},Te={class:"sm:text-sm text-[0.700rem] font-bold"},Ne={class:"sm:text-sm text-[0.700rem] font-bold"},Oe={class:"sm:text-sm text-[0.700rem] font-bold"},Fe={class:"grid grid-cols-12"},Me={class:"2xl:pr-1 col-span-1"},Ge={key:0},He=e("span",{class:"bg-green-700 w-[20px] h-[20px] block rounded-full"},null,-1),Ke=[He],Qe={key:1},We=e("span",{class:"bg-orange-400 w-[20px] h-[20px] block rounded-full"},null,-1),Je=[We],Xe={key:2},Ye=e("span",{class:"bg-red-700 w-[20px] h-[20px] block rounded-full"},null,-1),Ze=[Ye],et={class:"2xl:pr-1col-span-11 2xl:pl-0 pl-1"},tt={key:0},st=e("span",{class:"sm:text-sm text-[0.700rem] font-bold"},"En stock",-1),at=[st],it={key:1},ot=e("span",{class:"sm:text-sm text-[0.700rem] font-bold"},"Stock Faible",-1),rt=[ot],nt={key:2},lt=e("span",{class:"sm:text-sm text-[0.700rem] font-bold"},"Rupture de stock",-1),dt=[lt],ct={key:0,class:"mt-2"},ut=["onSubmit"],pt=["value"],mt=["value"],_t=["value"],ft=["value"],gt={class:"xsm:col-span-3 col-span-8 xsm:mr-2"},vt={class:"xsm:col-span-5 col-span-8 xsm:mt-0 mt-2"},ht={class:"h-10 flex items-start"},xt={type:"submit",class:"2xl:text-sm xl:text-[0.700rem] lg:text-sm text-[0.700rem] font-bold sm:h-full h-3/4 w-full sm:px-3 px-2 bg-primary-50 rounded hover:bg-primary-100 transition duration-300"},bt={key:1,class:"col-span-2 grid grid-cols-2"},yt={class:"col-span-2"},wt={class:"whitespace-pre-line"},kt={class:"grid grid-cols-8 col-span-2"},Pt={class:"xl:col-span-5 sm:col-span-4 col-span-8 w-full h-8 bg-gray-300 flex items-center justify-center rounded"},Dt={class:""},$t={class:"xl:col-span-3 sm:col-span-4 col-span-8 sm:mt-0 mt-1"},It=["onClick"],Bt=["onClick"],Et={key:1,class:"mt-2"},St=["value"],Ct=["value"],jt={class:"xsm:col-span-3 col-span-8 xsm:mr-2"},At=e("div",{class:"xsm:col-span-5 col-span-8 xsm:mt-0 mt-2"},[e("div",{class:"h-10 flex items-start"},[e("button",{type:"submit",class:"2xl:text-sm xl:text-[0.700rem] lg:text-sm text-[0.700rem] font-bold sm:h-full h-3/4 w-full sm:px-3 px-2 bg-primary-50 rounded hover:bg-primary-100 transition duration-300"},"Ajouter \xE0 la commande")])],-1),qt=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Lt={class:"fixed inset-0 overflow-y-auto"},zt={class:"flex min-h-full items-center justify-center p-4 text-center"},Rt=e("input",{type:"hidden",name:"id_produit_modal",id:"id_produit_modal"},null,-1),Ut=e("input",{type:"hidden",name:"key_tab_modal",id:"key_tab_modal"},null,-1),Vt=e("input",{type:"hidden",name:"qte_modal",id:"qte_modal"},null,-1),Tt={class:"mt-2"},Nt={class:"text-sm text-gray-500"},Ot=e("label",{class:"lg:text-lg text-sm",for:"ref"}," R\xE9f\xE9rence : ",-1),Ft={class:"mt-4 flex flex-row-reverse"},Mt=e("button",{type:"submit",class:"mx-1 inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-green-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 transition duration-300"}," Valider ",-1),Gt={__name:"DetailsDesignAction",props:["designs","gamme"],setup(C){var d=y(C.designs),P=y(w().props.value.session.typeVente),h=y(!1),B=U({ref_externe:""}),L=(_,a)=>{h.value=a;var t=new FormData(_.target);document.getElementById("id_produit_modal").value=t.get("id_produit"),document.getElementById("qte_modal").value=t.get("qte"),document.getElementById("key_tab_modal").value=t.get("key_tab")};Q(()=>{P.value=w().props.value.session.typeVente;var _=w().props.value.PanierDrop.panier.clients;if(_!=null&&_.length!=0)for(var a=0;a<d.value.length;a++){var t=!1;_.forEach(u=>{if(u.client.id_client_edi==w().props.value.PanierDrop.panier.clientActuel.id_client_edi){var p=u.produits;p.forEach(x=>{d.value[a].id_produit==x.id_produit&&(d.value[a].isInPanier=!0,d.value[a].panier.quantiter=x.quantiter,d.value[a].panier.id_panier_edi_list=x.id_panier_edi_list,t=!0)})}}),t||(d.value[a].isInPanier=!1,d.value[a].panier.quantiter=0,d.value[a].panier.id_panier_edi_list=0),w().props.value.PanierDrop.panier.clientActuel!=null&&(d.value[a].id_client_edi=w().props.value.PanierDrop.panier.clientActuel.id_client_edi)}});var v=(_,a)=>{_.preventDefault();var t=new FormData(_.target);U({idProduit:t.get("id_produit"),quantiter:t.get("qte"),id_panier_edi_list:t.get("id_panier_edi_list"),id_client_edi:t.get("id_client_edi")}).post("/dropshipping/panier/add",{preserveScroll:!0,preserveState:!0,onSuccess:p=>{p.props.session.status?(d.value[t.get("key_tab")].panier.id_panier_edi_list=p.props.session.id_panier_edi_list,d.value[t.get("key_tab")].isInPanier=!0,d.value[t.get("key_tab")].panier.quantiter=t.get("qte"),Toast.fire({icon:"success",title:a?"La quantiter pour ce produit \xE0 bien \xE9t\xE9 modifier":"Le produit \xE0 bien ajouter au panier"})):Toast.fire({icon:"error",title:p.props.session.message})}})},E=_=>{d.value[_].isInPanier=!1},j=(_,a)=>{Swal.fire({title:"Attention",text:"Etes-vous de supprimer cette article de la commande ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Non",confirmButtonText:"Oui"}).then(t=>{t.isConfirmed&&U({id_panier_edi_list:_}).post("/dropshipping/panier/delete",{preserveScroll:!0,onSuccess:p=>{p.props.session.status?(Toast.fire({icon:"success",title:"Le produit \xE0 bien \xE9t\xE9 supprimer de la commande"}),d.value[a].isInPanier=!1,d.value[a].panier.quantiter=0,d.value[a].panier.id_panier_edi_list=0):Toast.fire({icon:"error",title:"Une erreur c'est produit lors de la supression du produit de la commande"})}})})},z=_=>{var a=new FormData(_.target);B.post("/dropshipping/clients/add",{preserveScroll:!0,preserveState:!0,onSuccess:t=>{if(t.props.session.statut){var u=t.props.session.id_client_edi;U({idProduit:a.get("id_produit_modal"),quantiter:a.get("qte_modal"),id_panier_edi_list:0,id_client_edi:u}).post("/dropshipping/panier/add",{preserveScroll:!0,preserveState:!0,onSuccess:x=>{if(x.props.session.status){d.value[a.get("key_tab_modal")].panier.id_panier_edi_list=x.props.session.id_panier_edi_list,d.value[a.get("key_tab_modal")].isInPanier=!0,d.value[a.get("key_tab_modal")].panier.quantiter=a.get("qte_modal");for(var A=0;A<d.value.length;A++)d.value[A].id_client_edi=u;h.value=!1,Toast.fire({icon:"success",title:"Le produit \xE0 bien ajouter au panier"})}else Toast.fire({icon:"error",title:x.props.session.message})}})}else Toast.fire({icon:"error",title:t.props.session.msg})}})},R=_=>(Math.round(_*100)/100).toFixed(2);return(_,a)=>(o(),n(S,null,[e("div",Ie,[e("div",Be,[e("div",Ee,[c(s(De),{modules:[s(ye),s(we),s(ke),s(Pe)],"slides-per-view":1,"space-between":40,pagination:{clickable:!0,el:".swiper-pagination-custom",bulletActiveClass:"opacity-full",bulletClass:"swiper-pagination-bullet mx-2 !bg-primary-300",type:"bullets"},scrollbar:{draggable:!0},navigation:{nextEl:".swiper-button-prev-custom",prevEl:".swiper-button-next-custom",disabledClass:"opacity-50"},class:"lg:!px-9 !px-0 lg:!py-2 lg:!pt-4 !py-2 !relative"},{default:g(()=>[e("div",Se,[c(ve,{class:"!h-6 !w-12 text-5xl flex items-center justify-center text-primary-100"})]),e("div",Ce,[c(he,{class:"!h-6 !w-12 text-5xl flex items-center justify-center text-primary-100"})]),je,(o(!0),n(S,null,V(s(d),(t,u)=>(o(),T(s(be),{class:"xl:!h-full !h-52 !flex items-center justify-center",key:u},{default:g(()=>[t.photo!=null?(o(),n("div",Ae,[e("img",{src:"https://gestion.tapis-nazar.fr/img/produit/"+t.photo.img_produit,alt:t.code_sku,class:"w-full h-full object-contain"},null,8,qe)])):(o(),n("div",Le,[c(W)]))]),_:2},1024))),128))]),_:1},8,["modules","pagination","navigation"])]),e("div",ze,[(o(!0),n(S,null,V(s(d),(t,u)=>(o(),n("div",{class:"lg:col-span-4 sm:col-span-6 col-span-12 p-2 flex items-center justify-center",key:u},[e("div",Re,[e("div",Ue,[e("span",Ve,"SKU : "+f(t.code_sku),1),e("span",Te,"Taille : "+f(t.dimension.largeur)+"x"+f(t.dimension.longueur)+"cm",1),e("span",Ne,"EAN : "+f(t.gencode),1),e("span",Oe,"Prix : "+f(s(R)(t.prixProduit))+" \u20AC HT",1),e("div",Fe,[e("div",Me,[t.stats_produit.stock_restant>10?(o(),n("div",Ge,Ke)):t.stats_produit.stock_restant>0?(o(),n("div",Qe,Je)):(o(),n("div",Xe,Ze))]),e("div",et,[t.stats_produit.stock_restant>10?(o(),n("div",tt,at)):t.stats_produit.stock_restant>0?(o(),n("div",it,rt)):(o(),n("div",nt,dt))])]),s(P)==2&&t.id_client_edi!=""?(o(),n("div",ct,[t.stats_produit.stock_restant>0&&!t.isInPanier?(o(),n("form",{key:0,onSubmit:O(p=>s(v)(p,t.panier.quantiter>0),["prevent"]),class:"grid grid-cols-8"},[e("input",{type:"hidden",name:"id_produit",value:t.id_produit},null,8,pt),e("input",{type:"hidden",name:"id_client_edi",value:t.id_client_edi},null,8,mt),e("input",{type:"hidden",name:"id_panier_edi_list",value:t.panier.id_panier_edi_list!=null?t.panier.id_panier_edi_list:0},null,8,_t),e("input",{type:"hidden",name:"key_tab",value:u},null,8,ft),e("div",gt,[c(K,{class:"sm:h-10 h-8 sm:w-full w-full",name:"qte",max:t.stats_produit.stock_restant,value:t.panier.quantiter>0?t.panier.quantiter:1},null,8,["max","value"])]),e("div",vt,[e("div",ht,[e("button",xt,f(t.panier.quantiter>0?"Modifier":"Ajouter \xE0")+" la commande",1)])])],40,ut)):t.isInPanier?(o(),n("div",bt,[e("div",yt,[e("span",wt,[c(fe,{class:"text-green-500"}),q(" Ajouter \xE0 la commande du client. ")])]),e("div",kt,[e("div",Pt,[e("span",Dt,"Quantiter : "+f(t.panier.quantiter),1)]),e("div",$t,[e("button",{type:"button",onClick:p=>s(E)(u),class:"px-2 h-8 bg-primary-50 rounded hover:bg-primary-100 transition duration-300 sm:mx-1 mr-1 xl:mb-0 mb-2 sm:w-10 w-1/2"},[c(ge,{class:"text-white"})],8,It),e("button",{type:"button",onClick:p=>s(j)(t.panier.id_panier_edi_list!=null?t.panier.id_panier_edi_list:0,u),class:"px-2 h-8 bg-red-500 text-white rounded hover:bg-red-300 transition duration-300 sm:w-10 w-1/2"},[c(ue,{class:"text-white"})],8,Bt)])])])):k("",!0)])):s(P)==2?(o(),n("div",Et,[t.stats_produit.stock_restant>0&&!t.isInPanier?(o(),n("form",{key:0,onSubmit:a[0]||(a[0]=O(p=>s(L)(p,!0),["prevent"])),class:"grid grid-cols-8"},[e("input",{type:"hidden",name:"id_produit",value:t.id_produit},null,8,St),e("input",{type:"hidden",name:"key_tab",value:u},null,8,Ct),e("div",jt,[c(K,{class:"sm:h-10 h-8 sm:w-full w-full",name:"qte",max:t.stats_produit.stock_restant,value:t.panier.quantiter>0?t.panier.quantiter:1},null,8,["max","value"])]),At],32)):k("",!0)])):k("",!0)])])]))),128))])])]),s(P)==2&&s(d)[0].id_client_edi==""?(o(),T(s(J),{key:0,appear:"",show:s(h),as:"template",unmount:!1},{default:g(()=>[c(s(Z),{as:"div",class:"relative z-50"},{default:g(()=>[c(s(N),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0",unmount:!1},{default:g(()=>[qt]),_:1}),e("div",Lt,[e("div",zt,[c(s(N),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95",unmount:!1},{default:g(()=>[c(s(X),{class:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:g(()=>[c(s(Y),{as:"h3",class:"lg:text-lg text-sm font-medium leading-6 text-gray-900"},{default:g(()=>[q(" Pour continuer, veuillez saisir la r\xE9f\xE9rence de la commande client concern\xE9e. ")]),_:1}),e("form",{onSubmit:a[3]||(a[3]=O((...t)=>s(z)&&s(z)(...t),["prevent"]))},[Rt,Ut,Vt,e("div",Tt,[e("div",Nt,[Ot,te(e("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>s(B).ref_externe=t),class:"lg:text-lg text-sm transition duration-300 bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",id:"ref",type:"text",name:"ref_externe",placeholder:"Saisissez la r\xE9f\xE9rence de la commande"},null,512),[[se,s(B).ref_externe]]),c(xe,{class:"mt-2",message:s(B).errors.ref_externe},null,8,["message"])])]),e("div",Ft,[Mt,e("button",{onClick:a[2]||(a[2]=t=>{ae(h)?h.value=!1:h=!1}),type:"button",class:"mx-1 inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-red-900 hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition duration-300"}," Fermer ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])):k("",!0)],64))}},Ht=e("div",{class:"absolute top-1 left-0 text-white p-5 py-2 rounded-r-lg bg-primary-50"},[e("a",{class:"underline",href:"/"},"Accueil"),q(" / "),e("a",{class:"underline",href:"/dropshipping/gamme"},"Gamme"),q(" / ACAPULCO ")],-1),Kt={class:"flex items-center h-full"},Qt={class:"text-white text-3xl font-bold px-5 py-2 rounded-r-lg bg-primary-50"},Wt=e("div",{class:"absolute bottom-0 right-0 py-2"},[e("a",{href:"/dropshipping/gamme",class:"transition-all duration-300 bg-gradient-to-r from-blue-400 to-indigo-500 hover:bg-gradient-to-r hover:from-blue-500 hover:to-indigo-600 text-white font-bold py-2 px-4 rounded shadow-md"}," Retourner aux gammes ")],-1),Jt={class:"container mx-auto mt-5"},Xt=e("div",{class:"bg-primary-50 rounded mx-1 py-2"},[e("h2",{class:"text-center text-3xl text-gray-800"},"S\xE9lectionner les produits pour votre client.")],-1),Yt={key:0,class:"flex justify-between sm:flex-row flex-col"},Zt={key:0,class:"flex items-center px-2"},es={class:"text-lg text-gray-600"},ts={key:1,class:"mb-4 px-2"},ss={class:"mx-1 flex flex-row w-auto sm:flex-grow order-1 sm:order-2 mb-2 sm:mb-0"},as={class:"relative flex-grow"},is={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},os={class:"grid grid-flow-row-dense grid-cols-12",id:"TabProducts"},rs=["data-positiontab","id"],ns={class:"grid grid-cols-12 bg-primary-100 rounded-lg sm:h-48 h-38 mx-6 my-4 p-4"},ls={class:"xl:col-span-5 sm:col-span-4 col-span-2 items-stretch justify-center flex sm:h-40 h-full"},ds={key:0,class:"cursor-pointer relative overflow-hidden bg-gray-200 w-full h-full"},cs={class:"absolute flex items-center justify-center w-full h-full"},us=["onClick","src","alt"],ps={key:1,class:"text-3xl h-full w-full flex items-center justify-center bg-gray-300"},ms={class:"xl:col-span-7 sm:col-span-8 col-span-10 flex flex-col ml-3"},_s={class:"font-bold xl:text-xl sm:text-lg text-sm text-gray-600"},fs={class:"font-semibold 2xl:text-lg text-sm"},gs={class:"flex flex-start items-end h-full"},vs=["onClick"],hs={class:"grid grid-cols-4 justify-center items-center bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 xl:px-6"},xs={class:"lg:col-span-1 sm:col-span-2 col-span-4 sm:text-start text-center"},bs=le('<option value="8">8 par page</option><option value="12">12 par page</option><option value="18">18 par page</option><option value="50">50 par page</option><option value="100">100 par page</option>',5),ys=[bs],ws={class:"lg:col-span-2 sm:col-span-2 col-span-4 lg:text-center sm:text-end text-center sm:my-0 my-2"},ks={class:"flex lg:justify-end justify-center lg:col-span-1 col-span-4"},Ps={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Ds=["href"],$s={key:0},Is=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Bs={class:"fixed inset-0 overflow-y-auto"},Es={class:"flex min-h-full items-center justify-center p-4 text-center"},Ss=e("span",{id:"nomVisuelImage"},null,-1),Cs=e("div",{class:"mt-2 h-[40rem] w-full"},[e("img",{id:"visuelImage",class:"w-full h-full object-cover"})],-1),js={layout:(C,D)=>C(H,()=>child),layout:H},Js=Object.assign(js,{__name:"Products",props:["products","produitsAchat","gamme"],setup(C){const D=C;var d=y(w().props.value.dynamique_client),P=y(w().props.value.PanierDrop),h=y(P.value.panier.clientActuel),B=y(D.produitsAchat.panier),L=y(D.products.data),v=y(D.products),E=0;const j=y(!1);var z="background-image: url('https://gestion.tapis-nazar.fr/img/produit/gamme/"+D.gamme.img_gamme+"');";function R(){j.value=!1}function _(l,r,i,m){j.value=!0;var b=r+" "+i+" "+m;document.getElementById("visuelImage").setAttribute("src","https://gestion.tapis-nazar.fr/img/produit/"+l),document.getElementById("visuelImage").setAttribute("alt",b),document.getElementById("nomVisuelImage").textContent=b}const a=l=>{if(l!=""&&l!=null){var i=document.getElementById("tab_idDesign"+l),r=i.dataset.positiontab,i=i.nextSibling;i.id!="viewDetailsDesign"?F.post("/dropshipping/gamme/design",{id_design:l}).then(m=>{if(m.status==200){document.getElementById("viewDetailsDesign")!=null&&(document.getElementById("viewDetailsDesign").__vue_app__!=null&&document.getElementById("viewDetailsDesign").__vue_app__.unmount(),document.getElementById("viewDetailsDesign").remove());var b=de(Gt,{designs:m.data,gamme:D.gamme.nom_gamme}),$=document.createElement("div");$.id="viewDetailsDesign",$.dataset.idDesign=l;var I=u.base1;r==2?I=u.base2:r==3?I=u.base3:r==4&&(I=u.base4),$.classList=u.default+" "+I,document.getElementById("tab_idDesign"+l).parentNode.insertBefore($,document.getElementById("tab_idDesign"+l).nextSibling),b.mount(document.getElementById("viewDetailsDesign"))}}):i.id=="viewDetailsDesign"&&(document.getElementById("viewDetailsDesign").__vue_app__!=null&&document.getElementById("viewDetailsDesign").__vue_app__.unmount(),document.getElementById("viewDetailsDesign").remove())}},t=()=>{if(document.getElementById("viewDetailsDesign")!=null){var l=document.getElementById("viewDetailsDesign").dataset.idDesign,r=document.getElementById("viewDetailsDesign").previousSibling;r.id!="tab_idDesign"+l&&(document.getElementById("viewDetailsDesign").__vue_app__!=null&&document.getElementById("viewDetailsDesign").__vue_app__.unmount(),document.getElementById("viewDetailsDesign").remove())}};ie(async()=>{var l=document.getElementById("TabProducts"),r={attributes:!0,childList:!0,subtree:!0},i=new MutationObserver(t);i.observe(l,r);var m=document.getElementById("per_page");m.value=A();const b=new URL(window.location.href);var $=document.getElementById("searchGamme");$.value=b.searchParams.get("filter[global]")}),Q(()=>{d.value=w().props.value.dynamique_client,P.value=w().props.value.PanierDrop,h.value=P.value.panier.clientActuel,F.get("/dropshipping/panier/view").then(l=>{l.data.produitsAchat!=null&&(l.data.produitsAchat.panier!=null?B.value=l.data.produitsAchat.panier:B.value=[])})});var u={default:"col-span-12 mx-6 relative inline-block  text-sm text-gray-500 whitespace-nowrap mt-4 before:-mt-[1.8rem] before:border-r-solid before:content-[''] before:block before:absolute before:w-0 before:h-0 before:border-l-[30px] before:border-l-transparent before:border-l-solid before:border-r-[30px] before:border-r-transparent  before:border-b-[30px] before:border-b-gray-100",base1:"before:xl:right-[85%] before:lg:right-[80%] before:sm:right-[70%] before:right-[50%]",base2:"before:xl:right-[60%] before:lg:right-[45%] before:sm:right-[15%] before:right-[50%]",base3:"before:xl:right-[35%] before:lg:right-[10%] before:sm:right-[15%] before:right-[50%]",base4:"before:xl:right-[5%] before:lg:right-[45%] before:sm:right-[15%] before:right-[50%]"},p={previous:"text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium",previous_disabled:"cursor-not-allowed text-gray-400 relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium",next:"text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium",next_disabled:"cursor-not-allowed text-gray-400 relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium",number:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",number_active:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 bg-gray-100"},x=()=>{const l=new URL(window.location.href);var r=document.getElementById("per_page");l.searchParams.set("perPage",r.value),window.location.href=l.href},A=()=>{const l=new URL(window.location.href);return l.searchParams.get("perPage")!=null?l.searchParams.get("perPage"):12},M=l=>{const r=new URL(window.location.href);r.searchParams.delete("filter[global]");var i=r.searchParams.get("perPage");r.searchParams.delete("perPage");var m=r.searchParams.get("page");r.searchParams.delete("page");var b=r.href+"/search";r.href=b,r.searchParams.set("filter[global]",l.target.value),i!=""&&i!=null&&r.searchParams.set("perPage",i),m!=""&&m!=null&&r.searchParams.set("page",m);var $=r.href;F.post($).then(I=>{if(I.status==200){const G=new URL(window.location.href);G.searchParams.set("filter[global]",l.target.value),L.value=I.data.products.data,v.value=I.data.products,window.history.replaceState("","",G.href)}})};const ee=()=>(E==4?E=1:E++,E);return(l,r)=>(o(),n(S,null,[c(s(re),{title:"Orders Products Clients"}),e("section",{style:oe(s(z)),class:"h-52 relative container mx-auto bg-cover bg-[center_bottom_-15rem]"},[Ht,e("div",Kt,[e("h1",Qt,f(D.gamme.nom_gamme),1)]),Wt],4),e("section",Jt,[Xt,s(h)!=null?(o(),n("div",Yt,[s(h).id_client_edi!=null?(o(),n("div",Zt,[e("h3",es,"Commande client N\xB0 : "+f(s(h).ref_externe),1)])):k("",!0),s(h).id_client_edi!=null?(o(),n("div",ts,[c($e,{data:s(P).panier},null,8,["data"])])):k("",!0)])):k("",!0),e("div",ss,[e("div",as,[e("input",{class:"block w-full pl-9 text-sm rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300",placeholder:"Recherche...",id:"searchGamme",type:"text",name:"global",onInput:r[0]||(r[0]=(...i)=>s(M)&&s(M)(...i))},null,32),e("div",is,[c(pe,{class:"text-xl mb-1"})])])]),e("div",os,[(o(!0),n(S,null,V(s(L),(i,m)=>(o(),n("div",{class:"xl:col-span-3 lg:col-span-4 sm:col-span-6 col-span-12",key:m,"data-positiontab":ee(),id:"tab_idDesign"+i.id_design},[e("div",ns,[e("div",ls,[i.img_produit!=null?(o(),n("div",ds,[e("div",cs,[c(ce,{class:"text-lg text-black"})]),e("img",{onClick:b=>_(i.img_produit,i.nom_gamme,i.nom_design,i.nom_couleur),src:"https://gestion.tapis-nazar.fr/img/produit/"+i.img_produit,alt:i.code_sku,class:"z-20 relative hover:opacity-50 transition duration-300 w-full h-full object-contain"},null,8,us)])):(o(),n("div",ps,[c(W)]))]),e("div",ms,[e("span",_s,f(i.nom_design),1),e("span",fs,"Couleur : "+f(i.nom_couleur),1),e("div",gs,[e("button",{class:"py-2 px-3 h-10 rounded bg-primary-200 hover:bg-primary-50 2xl:text-lg text-sm text-white hover:text-primary-400 transition duration-300",type:"button",onClick:b=>a(i.id_design)},"Voir les produits",8,vs)])])])],8,rs))),128))]),e("div",hs,[e("div",xs,[e("select",{id:"per_page",name:"per_page",dusk:"per-page-full",onChange:r[1]||(r[1]=(...i)=>s(x)&&s(x)(...i)),class:"xl:mr-5 mr-2 focus:ring-indigo-500 focus:border-indigo-500 min-w-max shadow-sm text-sm border-gray-300 rounded-md"},ys,32),e("span",null,"Page "+f(s(v).current_page)+" sur "+f(s(v).last_page),1)]),e("span",ws,f(s(v).total)+" R\xE9sultats",1),e("div",ks,[e("nav",Ps,[(o(!0),n(S,null,V(s(v).links,(i,m)=>(o(),n("a",{key:m,class:ne(m!=0&&m+1!=s(v).links.length?i.active?s(p).number_active:s(p).number:m==0?s(v).current_page==1?s(p).previous_disabled:s(p).previous:s(v).current_page==s(v).last_page?s(p).next_disabled:s(p).next),href:i.url},[m!=0&&m+1!=s(v).links.length?(o(),n("span",$s,f(i.label),1)):k("",!0),m+1==s(v).links.length?(o(),T(me,{key:1})):k("",!0),m==0?(o(),T(_e,{key:2})):k("",!0)],10,Ds))),128))])])])]),c(s(J),{show:j.value,as:"template",unmount:!1},{default:g(()=>[c(s(Z),{as:"div",onClose:R,class:"relative z-30",unmount:!1},{default:g(()=>[c(s(N),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0",unmount:!1},{default:g(()=>[Is]),_:1}),e("div",Bs,[e("div",Es,[c(s(N),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95",unmount:!1},{default:g(()=>[c(s(X),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",unmount:!1},{default:g(()=>[c(s(Y),{unmount:!1,as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:g(()=>[q(" Visuel image "),Ss]),_:1}),Cs,e("div",{class:"flex flex-row-reverse"},[e("button",{type:"button",class:"mt-4 inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-red-900 hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition duration-300",onClick:R},"Fermer")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}});export{Js as default};
