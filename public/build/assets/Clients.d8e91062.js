import{o as i,a as c,f as e,t as r,k as w,m as Q,z as j,Q as q,e as _,d as s,u as t,h as d,F as E,K as U,n as M,R as N,M as K,c as G,b as Z,A as W,j as H,w as k,g as T,H as X,i as L}from"./app.42972bee.js";import{u as z}from"./Account.4e1c61fc.js";import{_ as Y,U as ee,C as te}from"./LangueChoice.18bdd351.js";import{E as se}from"./MicrosoftExcel.dd9a0ab8.js";import{C as J,_ as S}from"./AuthenticatedLayout.7fe0b364.js";import{M as le,P as oe}from"./Email.5e2fbe7e.js";import{A as ne,C as I,F as ae,B as ie,L as re,j as ce,H as de}from"./Flag.7765f2ed.js";import{o as A,f as F}from"./transition.c6d988a3.js";import{_ as D,U as O,N as R}from"./dialog.3587705d.js";import{_ as b}from"./InputError.f20216c8.js";import"./micro-task.fe338338.js";import"./description.33661788.js";const pe={name:"AlertIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ue=["aria-hidden","aria-label"],me=["fill","width","height"],_e={d:"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"},ge={key:0};function fe(x,l,g,$,u,f){return i(),c("span",Q(x.$attrs,{"aria-hidden":!g.title,"aria-label":g.title,class:"material-design-icon alert-icon",role:"img",onClick:l[0]||(l[0]=y=>x.$emit("click",y))}),[(i(),c("svg",{fill:g.fillColor,class:"material-design-icon__svg",width:g.size,height:g.size,viewBox:"0 0 24 24"},[e("path",_e,[g.title?(i(),c("title",ge,r(g.title),1)):w("",!0)])],8,me))],16,ue)}const xe=Y(pe,[["render",fe]]);function he(x,l){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})])}function ye(x,l){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})])}const ve=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),be={class:"fixed inset-0 overflow-y-auto"},we={class:"flex min-h-full items-center justify-center p-4 text-center relative"},ke={class:"grid grid-cols-10 ml-5 bg-primary-50 rounded-lg p-4 mb-4"},Te={class:"xl:col-span-2 sm:col-span-5 col-span-12 text-center"},$e={class:"xl:col-span-2 sm:col-span-5 col-span-12 text-center"},Ce={class:"xl:col-span-2 sm:col-span-5 col-span-12 text-center"},Ie={class:"xl:col-span-2 sm:col-span-5 col-span-12 text-center"},Me={class:"xl:col-span-2 sm:col-span-5 col-span-12 text-center"},Ve={class:"groupProduit relative w-full flex items-center justify-center"},je={class:"z-10 absolute xl:bottom-28 bottom-28 imageProduit"},Be={key:0,class:"lg:w-[100px] lg:h-[150px] sm:w-[100px] sm:h-[150px] w-[80px] h-[120px]"},Pe=["src","alt"],Ee={key:1,class:"lg:w-[100px] lg:h-[150px] sm:w-[100px] sm:h-[100px] w-[80px] h-[100px]"},Ae=e("span",null,"Pas de photo pour ce produit !",-1),ze=[Ae],qe={class:"z-20 sm:w-80 w-72 absolute bottom-0 text-center bg-white rounded drop-shadow-xl flex flex-col py-2"},Ue={class:"flex flex-col px-10"},Fe={class:"flex justify-center items-center py-2 w-full"},He={key:0,class:"flex items-center justify-center mr-2"},Le=e("span",{class:"bg-red-700 w-[10px] h-[10px] block rounded-full mx-2"},null,-1),Se={class:"flex flex-col"},Ne={key:1,class:"flex items-center justify-center"},Ke=e("span",null,"Il n'y a pas de produit pour ce client !",-1),Je=[Ke],De={__name:"ModalImportMKP_client",props:["isOpen","client"],setup(x){const l=x,g=j(l.isOpen);function $(){g.value=!1,setTimeout(()=>{document.getElementById("productClientView").__vue_app__.unmount()},200)}console.log(l.client);var u={grid4:"grid-cols-4",grid3:"grid-cols-3",grid2:"grid-cols-2",grid1:"grid-cols-1"},f=()=>l.client.products.length==4?u.grid4:l.client.products.length==3?u.grid3:l.client.products.length==2?u.grid2:l.client.products.length==1?u.grid1:u.grid4,y=h=>(Math.round(h*100)/100).toFixed(2);return(h,C)=>(i(),q(t(F),{appear:"",show:g.value,as:"template"},{default:_(()=>[s(t(R),{as:"div",onClose:$,class:"relative z-10"},{default:_(()=>[s(t(A),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[ve]),_:1}),e("div",be,[e("div",we,[s(t(A),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:_(()=>[s(t(D),{class:"w-full max-w-6xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:_(()=>[s(t(O),{as:"h3",class:"sm:text-xl text-lg font-bold leading-6 text-gray-900"},{default:_(()=>[d(" D\xE9tail client : "+r(l.client.nom+" "+l.client.prenom),1)]),_:1}),e("div",null,[e("button",{onClick:$,type:"button",class:"absolute top-5 right-10"},[s(J)])]),e("div",ke,[e("span",Te,"Quantiter : "+r(l.client.products_tt),1),e("span",$e,"M\xB2 : "+r(l.client.m2_tt)+" m\xB2",1),e("span",Ce,"Prix HT : "+r(t(y)(l.client.prix_ht_tt))+" \u20AC",1),e("span",Ie,"Prix TVA : "+r(t(y)(l.client.prix_tva_tt))+" \u20AC",1),e("span",Me,"Prix TTC : "+r(t(y)(l.client.prix_ttc_tt))+" \u20AC",1)]),l.client.products.length!=0?(i(),c("div",{key:0,class:M("overflow-auto lg:max-h-[50vh] max-h-[45vh] grid "+(l.client.products.length>4?t(u).grid4:t(f)()))},[(i(!0),c(E,null,U(l.client.products,(p,n)=>(i(),c("div",{class:"relative flex justify-center lg:col-span-1 col-span-4 h-80 w-full py-4 px-4",key:n},[e("div",Ve,[e("div",je,[p.url_image!=null?(i(),c("div",Be,[e("img",{src:"https://gestion.tapis-nazar.fr/img/produit/"+p.url_image,alt:p.sku,class:"w-full h-full object-cover"},null,8,Pe)])):(i(),c("div",Ee,ze))]),e("div",qe,[e("div",Ue,[e("span",null,r(p.gamme),1),e("span",null,r(p.design),1),e("span",null,r(p.taille),1)]),e("div",Fe,[p.stock<=p.qte?(i(),c("span",He,[d("Erreur Stock"),Le,d(" | ")])):w("",!0),e("div",Se,[e("span",null,"Quantiter : "+r(p.qte),1),e("span",null,"Prix Unitaire : "+r(t(y)(p.prix_TTC_unitaire))+" \u20AC",1)])])])])]))),128))],2)):(i(),c("div",Ne,Je))]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}};const Oe=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Re={class:"fixed inset-0 overflow-y-auto"},Qe={class:"flex min-h-full items-center justify-center p-4 text-center"},Ge={class:"mt-2"},Ze={class:"text-sm text-gray-500"},We={key:0,class:"bg-yellow-100 rounded-lg text-center p-2"},Xe={class:"text-yellow-500"},Ye={class:"grid grid-cols-10 xl:ml-5 bg-primary-50 rounded-lg p-4 mb-4 mt-4"},et={class:"xl:col-span-2 sm:col-span-5 col-span-12 text-center"},tt={class:"xl:col-span-2 sm:col-span-5 col-span-12 text-center"},st={class:"xl:col-span-2 sm:col-span-5 col-span-12 text-center"},lt={class:"xl:col-span-2 sm:col-span-5 col-span-12 text-center"},ot={class:"xl:col-span-2 sm:col-span-5 col-span-12 text-center"},nt={key:0,class:"relative rounded-lg box w-full relative"},at={class:"rotate-front rounded-lg flex flex-col p-4 overflow-hidden"},it={key:0,class:"z-10 absolute top-2 right-2 flex flex-col"},rt=e("span",{class:"flex items-center justify-center"},[d("Erreur Stock "),e("span",{class:"bg-red-700 w-[10px] h-[10px] block rounded-full ml-2"})],-1),ct=[rt],dt={class:"rotate-back rounded-lg py-4 px-4 flex justify-center items-center"},pt=["onClick"],ut={key:1,class:"cols-span-1"},mt={class:"w-full py-2 bg-white flex items-center justify-center"},_t={__name:"ModalImportMKP",props:["isOpen","importMKP","reussi","erreur","qteFinal","m2Final","prixHT_TT","prixTVA_TT","prixTTC_TT","stockInvalide"],setup(x){const l=x,g=j(l.isOpen);function $(){g.value=!1}var u={grid4:"grid-cols-4",grid3:"grid-cols-3",grid2:"grid-cols-2",grid1:"grid-cols-1"},f=()=>{if(l.reussi==4)return u.grid4;if(l.reussi==3)return u.grid3;if(l.reussi==2)return u.grid2;if(l.reussi==1)return u.grid1},y=p=>{document.getElementById("productClientView")!=null&&document.getElementById("productClientView").__vue_app__!=null&&document.getElementById("productClientView").__vue_app__.unmount();var n=N(De,{isOpen:!0,client:l.importMKP[p]});n.mount(document.getElementById("productClientView"))},h=()=>{K.post("/orders/clients/import/validation",{clients:l.importMKP}).then(p=>{p.status?document.location.href="/orders/clients/validation":Toast.fire({icon:"error",title:"Une erreur s'est produite lors de la validation de l'importation, veuillez renouveller l'op\xE9ration !"})})},C=p=>(Math.round(p*100)/100).toFixed(2);return(p,n)=>(i(),q(t(F),{appear:"",show:g.value,as:"template"},{default:_(()=>[s(t(R),{as:"div",onClose:$,class:"relative z-10"},{default:_(()=>[s(t(A),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[Oe]),_:1}),e("div",Re,[e("div",Qe,[s(t(A),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:_(()=>[s(t(D),{class:"w-full max-w-5xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all relative"},{default:_(()=>[s(t(O),{as:"h3",class:"sm:text-xl text-lg font-medium leading-6 text-gray-900"},{default:_(()=>[d(" R\xE9sumer de l'importation ")]),_:1}),e("div",Ge,[e("p",Ze," Status de l'importation : "+r(l.erreur>0?"echec !":"r\xE9ussi !"),1)]),l.stockInvalide?(i(),c("div",We,[e("span",Xe,[s(xe),d(" Vous avez une ou des commandes qui contienne des produits avec un stock insuffisant, ces commandes ne pourront \xEAtre valid\xE9es.")])])):w("",!0),e("div",Ye,[e("span",et,"Quantiter : "+r(l.qteFinal),1),e("span",tt,"M\xB2 : "+r(l.m2Final)+" m\xB2",1),e("span",st,"Prix HT : "+r(t(C)(l.prixHT_TT))+" \u20AC",1),e("span",lt,"Prix TVA : "+r(t(C)(l.prixTVA_TT))+" \u20AC",1),e("span",ot,"Prix TTC : "+r(t(C)(l.prixTTC_TT))+" \u20AC",1)]),e("div",{class:M("overflow-auto max-h-[50vh] grid "+(l.erreur==0?l.reussi>4?t(u).grid4:t(f)():t(u).grid1))},[(i(!0),c(E,null,U(l.importMKP,(m,B)=>(i(),c("div",{class:"relative flex justify-center lg:col-span-1 col-span-4 py-4 px-4",key:B},[l.erreur==0&&m.status?(i(),c("div",nt,[e("div",at,[m.clientProduitStockInvalide?(i(),c("div",it,ct)):w("",!0),e("span",null,"Client : "+r(m.prenom+" "+m.nom),1),e("span",null,"Adresse: "+r(m.adresse_livraison.adresse1),1),e("span",null,r(m.adresse_livraison.code_postal+", "+m.adresse_livraison.ville),1),e("span",null,r(m.adresse_livraison.pays),1),e("span",null,"Quantiter : "+r(m.products_tt),1),e("span",null,"M\xB2 total : "+r(m.m2_tt)+" m\xB2",1),e("span",null,"Prix TTC Total : "+r(m.prix_ttc_tt)+" \u20AC",1)]),e("div",dt,[e("button",{type:"button",class:"bg-primary-100 hover:bg-primary-200 transition duration-300 p-2 rounded-lg",onClick:v=>t(y)(B)},"Voir plus",8,pt)])])):m.status?w("",!0):(i(),c("div",ut,[e("span",null,"Erreur : "+r(m.message),1)]))]))),128))],2),e("div",mt,[e("button",{onClick:n[0]||(n[0]=(...m)=>t(h)&&t(h)(...m)),class:"px-4 py-2 bg-primary-50 rounded hover:bg-primary-100 transition duration-300"},"Valider l'importation")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},gt={class:"container mx-auto mt-5"},ft={class:"relative py-5"},xt={key:0,class:"flex flex-col justify-center"},ht=e("h1",{class:"text-center xl:text-3xl lg:text-2xl sm:text-xl text-lg text-primary-300"},"Ajouter commande pour un client",-1),yt={class:"text-center xl:text-3xl lg:text-2xl sm:text-xl text-lg text-primary-300"},vt={key:1},bt=e("h1",{class:"text-center xl:text-3xl lg:text-2xl sm:text-xl text-lg text-primary-300"},"Cr\xE9ation d'une commande pour un client",-1),wt=[bt],kt={class:"grid grid-cols-4"},Tt={class:"flex flex-col items-center justify-center"},$t=e("h2",{class:"text-center xl:text-3xl lg:text-2xl sm:text-xl text-lg text-primary-300 py-1"},"J'ai une commande",-1),Ct=e("span",{class:"text-center sm:text-lg text-sm"},"remplissez manuellement les informations ci-dessous",-1),It=["onSubmit"],Mt={class:"bg-primary-50 px-4 py-4 col-span-2 grid grid-cols-2"},Vt={class:"text-lg font-semibold col-span-2"},jt={class:"col-span-2 grid grid-cols-6 py-4 mx-2"},Bt={class:"col-span-6 2xl:col-span-3 flex text-lg pb-2 grid grid-cols-12"},Pt={class:"2xl:col-span-5 sm:col-span-4 col-span-5"},Et={for:"prenom_client",class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4"},At={class:"inline-flex left-3 items-center justify-items-center justify-center"},zt={class:"2xl:col-span-7 sm:col-span-8 col-span-7"},qt={class:"col-span-6 2xl:col-span-3 flex text-lg pb-2 grid grid-cols-12"},Ut={class:"2xl:col-span-4 sm:col-span-4 col-span-5"},Ft={for:"nom_client",class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4"},Ht={class:"inline-flex left-3 items-center justify-items-center justify-center h-3/4"},Lt={class:"2xl:col-span-8 sm:col-span-8 col-span-7"},St={class:"col-span-6 2xl:col-span-3 flex text-lg pb-2 grid grid-cols-12"},Nt={class:"2xl:col-span-5 sm:col-span-4 col-span-5"},Kt={class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"mail_client"},Jt={class:"pr-2"},Dt={class:"2xl:col-span-7 sm:col-span-8 col-span-7"},Ot={class:"col-span-6 2xl:col-span-3 flex text-lg pb-2 grid grid-cols-12"},Rt={class:"2xl:col-span-6 sm:col-span-4 col-span-6"},Qt={class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"tel_client"},Gt={class:"mr-2"},Zt={class:"2xl:col-span-6 sm:col-span-8 col-span-6"},Wt={class:"col-span-2 text-lg font-semibold"},Xt={class:"col-span-2 grid grid-cols-6 py-4 mx-2"},Yt={class:"col-span-6 flex text-lg pb-2 grid grid-cols-12"},es={class:"2xl:col-span-3 lg:col-span-5 sm:col-span-4 col-span-7"},ts={class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"nom_adresse_client"},ss={class:"pr-2"},ls={class:"2xl:col-span-9 lg:col-span-7 sm:col-span-8 col-span-5"},os={class:"col-span-6 flex text-lg pb-2 grid grid-cols-12"},ns={class:"2xl:col-span-3 lg:col-span-5 sm:col-span-4 col-span-7"},as={class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"adresse_client"},is={class:"pr-2"},rs={class:"2xl:col-span-9 lg:col-span-7 sm:col-span-8 col-span-5"},cs={class:"col-span-6 flex text-lg pb-2 grid grid-cols-12"},ds={class:"2xl:col-span-3 lg:col-span-5 sm:col-span-4 col-span-7"},ps={class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"complement_adresse_client"},us={class:"pr-2"},ms={class:"2xl:col-span-9 lg:col-span-7 sm:col-span-8 col-span-5"},_s={class:"col-span-6 flex text-lg pb-2 grid grid-cols-12"},gs={class:"2xl:col-span-3 lg:col-span-5 sm:col-span-4 col-span-7"},fs={class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"information_adresse_client"},xs={class:"pr-2"},hs={class:"2xl:col-span-9 lg:col-span-7 sm:col-span-8 col-span-5"},ys={class:"col-span-6 2xl:col-span-3 grid grid-cols-12 flex text-lg pb-2"},vs={class:"2xl:col-span-6 lg:col-span-5 sm:col-span-4 col-span-7"},bs={class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"cp_client"},ws={class:"pr-2"},ks={class:"2xl:col-span-6 lg:col-span-7 sm:col-span-8 col-span-5"},Ts={class:"col-span-6 2xl:col-span-3 grid grid-cols-12 flex text-lg pb-2"},$s={class:"2xl:col-span-5 lg:col-span-3 sm:col-span-4 col-span-7"},Cs={class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"ville_client"},Is={class:"pr-2"},Ms={class:"2xl:col-span-7 lg:col-span-9 sm:col-span-8 col-span-5"},Vs={class:"col-span-6 flex text-lg pb-2 grid grid-cols-12"},js={class:"sm:col-span-3 col-span-4"},Bs={for:"ville_client",class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4"},Ps={class:"inline-flex left-3 items-center justify-items-center justify-center h-3/4 top-1"},Es={class:"sm:col-span-9 col-span-8"},As={class:"relative"},zs={class:"relative w-full cursor-default overflow-hidden rounded-lg bg-transparent text-left shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm"},qs={key:0,class:"relative cursor-default select-none py-2 px-4 text-gray-700"},Us=e("div",{class:"flex items-center justify-center relative col-span-2 py-1 text-lg text-center w-full py-5"},[e("button",{type:"submit",class:"py-2 px-4 rounded-lg text-gray-500 bg-primary-50 hover:bg-primary-100 transition duration-300"},"Je valide ma commande manuel")],-1),Fs={key:0,class:"absolute h-96 left-2/4 right-2/4 top-2/4 bottom-2/4 lg:flex hidden items-center justify-center"},Hs=e("hr",{class:"block w-1 h-96 border"},null,-1),Ls=[Hs],Ss={key:1,class:"lg:col-span-2 col-span-4 xl:ml-6"},Ns={class:"flex flex-col items-center justify-center"},Ks=e("h2",{class:"text-center xl:text-3xl lg:text-2xl sm:text-xl text-lg text-primary-300 py-1"},"J'ai plusieurs commandes",-1),Js=e("span",{class:"text-center sm:text-lg text-sm"},"remplissez la template puis importez la",-1),Ds=["onSubmit"],Os={class:"bg-primary-50 flex flex-col p-4"},Rs={class:"text-primary-500 py-5"},Qs=["href"],Gs={class:"text-primary-500 py-5"},Zs=["href"],Ws={class:"text-primary-500 py-5 w-full flex"},Xs={class:"grid grid-cols-4 pl-2"},Ys={class:"block cursor-pointer text-white underline hover:text-gray-200 transition duration-300",for:"file_import_clients"},el={class:"hidden",id:"file_name_span_client"},tl=e("span",{id:"file_name_client"},null,-1),sl={class:"flex items-center justify-center relative col-span-2 py-1 text-lg text-center w-full py-5"},ll={key:0,type:"submit",class:"py-2 px-4 rounded-lg text-gray-500 bg-primary-50 hover:bg-primary-100 transition duration-300"},ol={key:1,disabled:"",type:"submit",class:"py-2 px-4 rounded-lg disabled:text-gray-200 disabled:bg-primary-50 transition duration-300"},nl=e("div",{id:"modalImport"},null,-1),al=e("div",{id:"productClientView"},null,-1),il={layout:(x,l)=>x(S,()=>child),layout:S},vl=Object.assign(il,{__name:"Clients",props:["panier"],setup(x){const l=x,g=new URL("/build/assets/Template_Vierge_Drop.fa38da01.xlsx",self.location).href,$=new URL("/build/assets/Template_Model_Drop.c0bac778.xlsx",self.location).href,u=["Allemagne","Autriche","Belgique","Bulgarie","Chypre","Croatie","Danemark","Espagne","Estonie","Finlande","France","Gr\xE8ce","Hongrie","Irlande","Italie","Lettonie","Lituanie","Luxembourg","Malte","Pays-Bas","Pologne","Portugal","R\xE9publique tch\xE8que","Roumanie","Slovaquie","Slov\xE9nie","Su\xE8de"];let f=j(""),y=G(()=>f.value===""?u:u.filter(v=>v.toLowerCase().replace(/\s+/g,"").includes(f.value.toLowerCase().replace(/\s+/g,"")))),h=j(!1);var C=v=>{v.target.value==""?(document.getElementById("file_name_client").innerText="",document.getElementById("file_name_span_client").classList.add("hidden"),h.value=!1):(document.getElementById("file_name_client").innerText=v.target.files[0].name,document.getElementById("file_name_span_client").classList.remove("hidden"),h.value=!0)},p=()=>{document.getElementById("file_import_clients").value=null,document.getElementById("file_name_client").innerText="",document.getElementById("file_name_span_client").classList.add("hidden"),h.value=!1};const n=Z({nom:"",prenom:"",email:"",tel:"",nom_adresse:"",adresse1:"",adresse2:"",adresse3:"",code_postal:"",ville:"",pays:j(u[10])}),m=()=>{n.post(route("orders/clients"),{onSuccess:v=>{v.props.statusPanier==!0?document.location.href="/orders/clients/products":v.props.statusPanier==!1&&Toast.fire({icon:"error",title:"Une erreur s'est produite lors de la cr\xE9ation du client, veuillez ressayer !"})}})},B=()=>{var v=new FormData(document.getElementById("fileClientImport"));K.post("/orders/clients/import",v).then(a=>{if(console.log(a),a.status){document.getElementById("modalImport")!=null&&document.getElementById("modalImport").__vue_app__!=null&&document.getElementById("modalImport").__vue_app__.unmount();var o=a.data,V=N(_t,{isOpen:!0,importMKP:o.importCommandes,reussi:o.valider,erreur:o.erreur,qteFinal:o.qteFinal,m2Final:o.m2Final,prixHT_TT:o.prixHT_TT,prixTVA_TT:o.prixTVA_TT,prixTTC_TT:o.prixTTC_TT,stockInvalide:o.stockInvalide});V.mount(document.getElementById("modalImport"))}else Toast.fire({icon:"error",title:"Une erreur s'est produite lors de l'importation de votre fichier, veuillez v\xE9rifier que votre fichier correspond bien \xE0 l'exemple fournis puis ressayer !"})})};return W(()=>{document.getElementById("modalImport")!=null&&document.getElementById("modalImport").__vue_app__!=null&&document.getElementById("modalImport").__vue_app__.unmount()}),(v,a)=>(i(),c(E,null,[s(t(X),{title:"Orders Clients"}),e("section",gt,[e("div",ft,[l.panier!=null?(i(),c("div",xt,[ht,e("span",yt,"Ajout \xE0 la commande "+r(l.panier.num_commande),1)])):(i(),c("div",vt,wt))]),e("div",kt,[e("div",{class:M(l.panier==null?"lg:col-span-2 xl:mr-6 col-span-4":"col-span-4")},[e("div",Tt,[s(t(ye),{class:"xl:h-52 lg:h-36 sm:h-32 h-24 w-full stroke-1"}),$t,Ct]),e("form",{onSubmit:H(m,["prevent"]),class:"grid grid-cols-2 p-4",id:"form_client"},[e("div",Mt,[e("h3",Vt,[s(z),d(" G\xE9n\xE9ral : ")]),e("div",jt,[e("div",Bt,[e("div",Pt,[e("label",Et,[e("span",At,[s(z)]),d(" Pr\xE9nom :")])]),e("div",zt,[k(e("input",{type:"text",id:"prenom_client",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",name:"prenom",required:"",autofocus:"",autocomplete:"given-name","onUpdate:modelValue":a[0]||(a[0]=o=>t(n).prenom=o)},null,512),[[T,t(n).prenom]]),s(b,{class:"mt-2",message:t(n).errors.prenom},null,8,["message"])])]),e("div",qt,[e("div",Ut,[e("label",Ft,[e("span",Ht,[s(z)]),d(" Nom :")])]),e("div",Lt,[k(e("input",{type:"text",id:"nom_client",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",name:"nom",required:"",autofocus:"",autocomplete:"family-name","onUpdate:modelValue":a[1]||(a[1]=o=>t(n).nom=o)},null,512),[[T,t(n).nom]]),s(b,{class:"mt-2",message:t(n).errors.nom},null,8,["message"])])]),e("div",St,[e("div",Nt,[e("label",Kt,[e("span",Jt,[s(le)]),d(" E-Mail :")])]),e("div",Dt,[k(e("input",{type:"text",id:"mail_client",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",name:"email",required:"",autofocus:"",autocomplete:"email","onUpdate:modelValue":a[2]||(a[2]=o=>t(n).email=o)},null,512),[[T,t(n).email]]),s(b,{class:"mt-2",message:t(n).errors.email},null,8,["message"])])]),e("div",Ot,[e("div",Rt,[e("label",Qt,[e("span",Gt,[s(oe)]),d(" T\xE9l\xE9phone :")])]),e("div",Zt,[k(e("input",{type:"text",id:"tel_client",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",name:"tel",required:"",autofocus:"",autocomplete:"tel","onUpdate:modelValue":a[3]||(a[3]=o=>t(n).tel=o)},null,512),[[T,t(n).tel]]),s(b,{class:"mt-2",message:t(n).errors.tel},null,8,["message"])])])]),e("h3",Wt,[s(I),d(" Adresse de livraison : ")]),e("div",Xt,[e("div",Yt,[e("div",es,[e("label",ts,[e("span",ss,[s(I)]),d(" Nom adresse :")])]),e("div",ls,[k(e("input",{type:"text",id:"nom_adresse_client",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",name:"nom_adresse",required:"",autofocus:"","onUpdate:modelValue":a[4]||(a[4]=o=>t(n).nom_adresse=o)},null,512),[[T,t(n).nom_adresse]]),s(b,{class:"mt-2",message:t(n).errors.nom_adresse},null,8,["message"])])]),e("div",os,[e("div",ns,[e("label",as,[e("span",is,[s(I)]),d(" Adresse 1 :")])]),e("div",rs,[k(e("input",{type:"text",id:"adresse_client",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",name:"adresse1",required:"",autofocus:"",autocomplete:"address-line1","onUpdate:modelValue":a[5]||(a[5]=o=>t(n).adresse1=o)},null,512),[[T,t(n).adresse1]]),s(b,{class:"mt-2",message:t(n).errors.adresse1},null,8,["message"])])]),e("div",cs,[e("div",ds,[e("label",ps,[e("span",us,[s(I)]),d(" Adresse 2 :")])]),e("div",ms,[k(e("input",{type:"text",id:"complement_adresse_client",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",name:"adresse2",autofocus:"",autocomplete:"address-line2","onUpdate:modelValue":a[6]||(a[6]=o=>t(n).adresse2=o)},null,512),[[T,t(n).adresse2]]),s(b,{class:"mt-2",message:t(n).errors.adresse2},null,8,["message"])])]),e("div",_s,[e("div",gs,[e("label",fs,[e("span",xs,[s(I)]),d(" Adresse 3 :")])]),e("div",hs,[k(e("input",{type:"text",id:"information_adresse_client",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",name:"adresse3",autofocus:"",autocomplete:"address-line3","onUpdate:modelValue":a[7]||(a[7]=o=>t(n).adresse3=o)},null,512),[[T,t(n).adresse3]]),s(b,{class:"mt-2",message:t(n).errors.adresse3},null,8,["message"])])]),e("div",ys,[e("div",vs,[e("label",bs,[e("span",ws,[s(I)]),d(" Code postal :")])]),e("div",ks,[k(e("input",{type:"text",id:"cp_client",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",name:"code_postal",required:"",autofocus:"",autocomplete:"postal-code","onUpdate:modelValue":a[8]||(a[8]=o=>t(n).code_postal=o)},null,512),[[T,t(n).code_postal]]),s(b,{class:"mt-2",message:t(n).errors.code_postal},null,8,["message"])])]),e("div",Ts,[e("div",$s,[e("label",Cs,[e("span",Is,[s(I)]),d(" Ville :")])]),e("div",Ms,[k(e("input",{type:"text",id:"ville_client",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",name:"ville",required:"",autofocus:"",autocomplete:"city","onUpdate:modelValue":a[9]||(a[9]=o=>t(n).ville=o)},null,512),[[T,t(n).ville]]),s(b,{class:"mt-2",message:t(n).errors.ville},null,8,["message"])])]),e("div",Vs,[e("div",js,[e("label",Bs,[e("span",Ps,[s(ae)]),d(" Pays :")])]),e("div",Es,[s(t(ne),{modelValue:t(n).pays,"onUpdate:modelValue":a[12]||(a[12]=o=>t(n).pays=o)},{default:_(()=>[e("div",As,[e("div",zs,[s(t(ie),{class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-sm leading-5 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-primary-200 focus:ring-0",displayValue:o=>o,onChange:a[10]||(a[10]=o=>L(f)?f.value=o.target.value:f=o.target.value),name:"pays",required:"",autofocus:""},null,8,["displayValue"]),s(t(re),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:_(()=>[s(ee,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),s(t(F),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:a[11]||(a[11]=o=>L(f)?f.value="":f="")},{default:_(()=>[s(t(ce),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-gray-200 py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:_(()=>[t(y).length===0&&t(f)!==""?(i(),c("div",qs," Nothing found. ")):w("",!0),(i(!0),c(E,null,U(t(y),o=>(i(),q(t(de),{as:"template",key:o,value:o},{default:_(({selected:V,active:P})=>[e("li",{class:M(["relative cursor-default select-none py-2 pl-10 pr-4",{"bg-teal-600 text-white":P,"text-gray-900":!P}])},[e("span",{class:M(["block truncate",{"font-medium":V,"font-normal":!V}])},r(o),3),V?(i(),c("span",{key:0,class:M(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":P,"text-teal-600":!P}])},[s(te,{class:"h-5 w-5","aria-hidden":"true"})],2)):w("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),s(b,{class:"mt-2",message:t(n).errors.pays},null,8,["message"])])])])]),Us],40,It)],2),l.panier==null?(i(),c("div",Fs,Ls)):w("",!0),l.panier==null?(i(),c("div",Ss,[e("div",Ns,[s(t(he),{class:"xl:h-52 lg:h-36 sm:h-32 h-24 w-full stroke-1"}),Ks,Js]),e("form",{id:"fileClientImport",onSubmit:H(B,["prevent"]),class:"p-4 flex flex-col"},[e("div",Os,[e("span",Rs,[d("Je t\xE9l\xE9charge le mod\xE8le d'exemple : "),e("a",{href:t($),class:"mt-1 text-sm text-white underline hover:text-gray-200 transition duration-300"},"T\xE9l\xE9charger l'exemple",8,Qs)]),e("span",Gs,[d("Je t\xE9l\xE9charge la template vierge : "),e("a",{href:t(g),class:"mt-1 text-sm text-white underline hover:text-gray-200 transition duration-300"},"T\xE9l\xE9charger la template",8,Zs)]),e("span",Ws,[d(" J'importe mon fichier ici : "),e("div",Xs,[e("div",{class:M((t(h),"relative col-span-4"))},[e("label",Ys,[d("J'importe mon fichier au format .xls ou .xlsx "),s(se)]),e("span",el,[e("button",{type:"button",onClick:a[13]||(a[13]=(...o)=>t(p)&&t(p)(...o))},[s(J)]),tl]),e("input",{onChange:a[14]||(a[14]=(...o)=>t(C)&&t(C)(...o)),type:"file",class:"hidden",id:"file_import_clients",accept:"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",name:"fileImport"},null,32)],2)])])]),e("div",sl,[t(h)?(i(),c("button",ll,"Je valide ma commande par fichier")):w("",!0),t(h)?w("",!0):(i(),c("button",ol,"Je valide ma commande par fichier"))])],40,Ds)])):w("",!0)])]),nl,al],64))}});export{vl as default};
